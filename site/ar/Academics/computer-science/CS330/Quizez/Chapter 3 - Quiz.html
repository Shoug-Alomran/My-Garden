<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS Chapter 3 - Comprehensive Exam</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }
        
        .exam-info {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 3px solid #11998e;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
        }
        
        .info-label {
            font-weight: bold;
            color: #11998e;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-size: 1.1em;
            color: #333;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section-title {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 1.3em;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .question {
            background: #f8f9fa;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            border-left: 4px solid #11998e;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .question:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(17, 153, 142, 0.2);
        }
        
        .question-number {
            display: inline-block;
            background: #11998e;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        
        .question-text {
            font-size: 1.05em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 15px;
        }
        
        .question-marks {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            margin-left: 10px;
        }
        
        .options {
            list-style: none;
            margin-top: 15px;
        }
        
        .options li {
            padding: 12px;
            margin: 8px 0;
            background: white;
            border-radius: 6px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .options li:hover {
            border-color: #11998e;
            background: #e8f5f3;
        }
        
        .options input[type="radio"] {
            margin-right: 10px;
        }
        
        .answer-textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.2s;
        }
        
        .answer-textarea:focus {
            outline: none;
            border-color: #11998e;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .submit-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.2em;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(17, 153, 142, 0.6);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .results-container {
            display: none;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .score-display {
            font-size: 3em;
            font-weight: bold;
            color: #11998e;
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        
        .feedback.correct {
            background: #d4edda;
            border: 2px solid #28a745;
            color: #155724;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            border: 2px solid #dc3545;
            color: #721c24;
        }
        
        .feedback.partial {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
        }
        
        .feedback-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }
        
        .model-answer {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 6px;
            margin-top: 10px;
            border-left: 4px solid #2196F3;
        }
        
        .model-answer-title {
            font-weight: bold;
            color: #1976D2;
            margin-bottom: 10px;
        }
        
        .explanation {
            background: #fff9e6;
            padding: 15px;
            border-radius: 6px;
            margin-top: 10px;
            border-left: 4px solid #ff9800;
        }
        
        .explanation-title {
            font-weight: bold;
            color: #f57c00;
            margin-bottom: 10px;
        }
        
        .question.graded.correct {
            border-left-color: #28a745;
        }
        
        .question.graded.incorrect {
            border-left-color: #dc3545;
        }
        
        .question.graded.partial {
            border-left-color: #ffc107;
        }
        
        .footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 0.95em;
        }
        
        .footer-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #38ef7d;
            margin-top: 5px;
        }
    </style>
  <script src="/javascripts/standalone-theme.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“š Operating Systems</h1>
            <p>Chapter 3: Processes</p>
            <p>Comprehensive Examination</p>
        </div>
        
        <div class="exam-info">
            <div class="info-item">
                <span class="info-label">Course Code</span>
                <span class="info-value">CS 330</span>
            </div>
            <div class="info-item">
                <span class="info-label">Duration</span>
                <span class="info-value">120 Minutes</span>
            </div>
            <div class="info-item">
                <span class="info-label">Total Marks</span>
                <span class="info-value">75 Marks</span>
            </div>
            <div class="info-item">
                <span class="info-label">Total Questions</span>
                <span class="info-value">50 Questions</span>
            </div>
        </div>
        
        <div class="content">
            <form id="examForm">
                <!-- Section 1: Process Concept -->
                <div class="section">
                    <div class="section-title">Section 1: Process Concept (12 marks)</div>
                    
                    <div class="question" data-question="1" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q1</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            A process is:
                            <ul class="options">
                                <li><input type="radio" name="q1" value="a"> a) A program stored on disk</li>
                                <li><input type="radio" name="q1" value="b"> b) A program in execution</li>
                                <li><input type="radio" name="q1" value="c"> c) The same as a thread</li>
                                <li><input type="radio" name="q1" value="d"> d) A section of memory</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="2" data-type="mcq" data-marks="1" data-answer="d">
                        <span class="question-number">Q2</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            Which of the following is NOT a section of a process in memory?
                            <ul class="options">
                                <li><input type="radio" name="q2" value="a"> a) Text section</li>
                                <li><input type="radio" name="q2" value="b"> b) Data section</li>
                                <li><input type="radio" name="q2" value="c"> c) Heap</li>
                                <li><input type="radio" name="q2" value="d"> d) Cache</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="3" data-type="essay" data-marks="2">
                        <span class="question-number">Q3</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the difference between a program and a process?
                            <textarea class="answer-textarea" name="q3" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="4" data-type="essay" data-marks="2">
                        <span class="question-number">Q4</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Describe what is stored in the Stack section and the Heap section of a process.
                            <textarea class="answer-textarea" name="q4" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="5" data-type="mcq" data-marks="1" data-answer="c">
                        <span class="question-number">Q5</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            The text section of a process contains:
                            <ul class="options">
                                <li><input type="radio" name="q5" value="a"> a) Global variables</li>
                                <li><input type="radio" name="q5" value="b"> b) Function parameters</li>
                                <li><input type="radio" name="q5" value="c"> c) Program code (executable instructions)</li>
                                <li><input type="radio" name="q5" value="d"> d) Dynamically allocated memory</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="6" data-type="essay" data-marks="3">
                        <span class="question-number">Q6</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            Explain the difference between an I/O-bound process and a CPU-bound process. Give an example of each.
                            <textarea class="answer-textarea" name="q6" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="7" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q7</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            One program can be:
                            <ul class="options">
                                <li><input type="radio" name="q7" value="a"> a) Several processes (multiple users executing the same program)</li>
                                <li><input type="radio" name="q7" value="b"> b) Only one process at a time</li>
                                <li><input type="radio" name="q7" value="c"> c) Part of multiple programs</li>
                                <li><input type="radio" name="q7" value="d"> d) None of the above</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="8" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q8</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            A program becomes a process when:
                            <ul class="options">
                                <li><input type="radio" name="q8" value="a"> a) It is compiled</li>
                                <li><input type="radio" name="q8" value="b"> b) An executable file is loaded into memory</li>
                                <li><input type="radio" name="q8" value="c"> c) It is saved to disk</li>
                                <li><input type="radio" name="q8" value="d"> d) The operating system starts</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>
                
                <!-- Section 2: Process State -->
                <div class="section">
                    <div class="section-title">Section 2: Process State (10 marks)</div>
                    
                    <div class="question" data-question="9" data-type="essay" data-marks="3">
                        <span class="question-number">Q9</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            Name and briefly describe the FIVE process states.
                            <textarea class="answer-textarea" name="q9" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="10" data-type="mcq" data-marks="1" data-answer="c">
                        <span class="question-number">Q10</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            A process that is currently in the 'Running' state can next go to which states? (From old exam)
                            <ul class="options">
                                <li><input type="radio" name="q10" value="a"> a) Only terminated state</li>
                                <li><input type="radio" name="q10" value="b"> b) Only waiting or ready state</li>
                                <li><input type="radio" name="q10" value="c"> c) Terminated, waiting, or ready state</li>
                                <li><input type="radio" name="q10" value="d"> d) Only new state</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="11" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q11</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            When a process is waiting for I/O to complete, it is in which state?
                            <ul class="options">
                                <li><input type="radio" name="q11" value="a"> a) Ready state</li>
                                <li><input type="radio" name="q11" value="b"> b) Waiting state</li>
                                <li><input type="radio" name="q11" value="c"> c) Running state</li>
                                <li><input type="radio" name="q11" value="d"> d) Terminated state</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="12" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q12</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            Only ONE process can be running on any processor core at any instant. True or False?
                            <ul class="options">
                                <li><input type="radio" name="q12" value="a"> a) True</li>
                                <li><input type="radio" name="q12" value="b"> b) False</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="13" data-type="essay" data-marks="2">
                        <span class="question-number">Q13</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What causes a process to move from the running state to the waiting state?
                            <textarea class="answer-textarea" name="q13" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="14" data-type="essay" data-marks="2">
                        <span class="question-number">Q14</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What causes a process to move from the waiting state to the ready state?
                            <textarea class="answer-textarea" name="q14" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>
                
                <!-- Section 3: Process Control Block (PCB) -->
                <div class="section">
                    <div class="section-title">Section 3: Process Control Block (PCB) (8 marks)</div>
                    
                    <div class="question" data-question="15" data-type="essay" data-marks="3">
                        <span class="question-number">Q15</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            What is a Process Control Block (PCB)? List at least FOUR pieces of information stored in a PCB.
                            <textarea class="answer-textarea" name="q15" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="16" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q16</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            The PCB is also called:
                            <ul class="options">
                                <li><input type="radio" name="q16" value="a"> a) Process State Block</li>
                                <li><input type="radio" name="q16" value="b"> b) Task Control Block</li>
                                <li><input type="radio" name="q16" value="c"> c) Memory Control Block</li>
                                <li><input type="radio" name="q16" value="d"> d) Thread Control Block</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="17" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q17</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            (True/False - From old exam) The program counter, the register values and the stack pointer values are stored in the text section of a process during context switch.
                            <ul class="options">
                                <li><input type="radio" name="q17" value="a"> a) False</li>
                                <li><input type="radio" name="q17" value="b"> b) True</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="18" data-type="essay" data-marks="3">
                        <span class="question-number">Q18</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            Explain what happens during a context switch. Why is context switching considered overhead?
                            <textarea class="answer-textarea" name="q18" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>
                
                <!-- Section 4: Process Scheduling -->
                <div class="section">
                    <div class="section-title">Section 4: Process Scheduling (12 marks)</div>
                    
                    <div class="question" data-question="19" data-type="essay" data-marks="2">
                        <span class="question-number">Q19</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the main objective of multiprogramming? (From old exam)
                            <textarea class="answer-textarea" name="q19" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="20" data-type="mcq" data-marks="1" data-answer="c">
                        <span class="question-number">Q20</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            The degree of multiprogramming is defined as:
                            <ul class="options">
                                <li><input type="radio" name="q20" value="a"> a) The speed of the CPU</li>
                                <li><input type="radio" name="q20" value="b"> b) The number of CPUs in the system</li>
                                <li><input type="radio" name="q20" value="c"> c) The number of processes in memory</li>
                                <li><input type="radio" name="q20" value="d"> d) The size of the memory</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="21" data-type="essay" data-marks="3">
                        <span class="question-number">Q21</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            Explain the difference between the ready queue and the wait queue.
                            <textarea class="answer-textarea" name="q21" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="22" data-type="essay" data-marks="3">
                        <span class="question-number">Q22</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            Describe the difference between short-term scheduler, medium-term scheduler, and long-term scheduler.
                            <textarea class="answer-textarea" name="q22" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="23" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q23</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            Which scheduler is also called the CPU scheduler?
                            <ul class="options">
                                <li><input type="radio" name="q23" value="a"> a) Short-term scheduler</li>
                                <li><input type="radio" name="q23" value="b"> b) Long-term scheduler</li>
                                <li><input type="radio" name="q23" value="c"> c) Medium-term scheduler</li>
                                <li><input type="radio" name="q23" value="d"> d) Job scheduler</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="24" data-type="essay" data-marks="2">
                        <span class="question-number">Q24</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the role of the medium-term scheduler? What process is it involved in?
                            <textarea class="answer-textarea" name="q24" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>
                
                <!-- Section 5: Operations on Processes -->
                <div class="section">
                    <div class="section-title">Section 5: Operations on Processes (15 marks)</div>
                    
                    <div class="question" data-question="25" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q25</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            In UNIX, which system call creates a new process?
                            <ul class="options">
                                <li><input type="radio" name="q25" value="a"> a) fork()</li>
                                <li><input type="radio" name="q25" value="b"> b) exec()</li>
                                <li><input type="radio" name="q25" value="c"> c) wait()</li>
                                <li><input type="radio" name="q25" value="d"> d) exit()</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="26" data-type="essay" data-marks="2">
                        <span class="question-number">Q26</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the return value of fork() in the parent process and in the child process?
                            <textarea class="answer-textarea" name="q26" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                    
                    <div class="question" data-question="27" data-type="essay" data-marks="2">
                        <span class="question-number">Q27</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the purpose of the exec() system call? How does it differ from fork()?
                            <textarea class="answer-textarea" name="q27" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="28" data-type="mcq" data-marks="2" data-answer="b">
                        <span class="question-number">Q28</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Consider the following C program from old exams:
                            <div class="code-block">
#include &lt;sys/types.h&gt;
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
int value = 5;
int main() {
    pid_t pid;
    pid = fork();
    if (pid == 0) { /* child process */
        value += 15;
        return 0;
    }
    else if (pid > 0) { /* parent process */
        wait(NULL);
        printf("PARENT: value = %d", value);
        return 0;
    }
}
                            </div>
                            What will be the output at the printf statement?
                            <ul class="options">
                                <li><input type="radio" name="q28" value="a"> a) PARENT: value = 20</li>
                                <li><input type="radio" name="q28" value="b"> b) PARENT: value = 5</li>
                                <li><input type="radio" name="q28" value="c"> c) PARENT: value = 15</li>
                                <li><input type="radio" name="q28" value="d"> d) PARENT: value = 0</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="29" data-type="mcq" data-marks="2" data-answer="d">
                        <span class="question-number">Q29</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Including the initial parent process, how many processes are created by this program?
                            <div class="code-block">
int main() {
    fork(); // fork #1
    fork(); // fork #2
    fork(); // fork #3
    return 0;
}
                            </div>
                            <ul class="options">
                                <li><input type="radio" name="q29" value="a"> a) 3 processes</li>
                                <li><input type="radio" name="q29" value="b"> b) 4 processes</li>
                                <li><input type="radio" name="q29" value="c"> c) 6 processes</li>
                                <li><input type="radio" name="q29" value="d"> d) 8 processes</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="30" data-type="mcq" data-marks="2" data-answer="c">
                        <span class="question-number">Q30</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Including the initial parent process, how many processes are created?
                            <div class="code-block">
int main() {
    int i;
    for (i = 0; i < 4; i++)
        fork();
    return 0;
}
                            </div>
                            <ul class="options">
                                <li><input type="radio" name="q30" value="a"> a) 4 processes</li>
                                <li><input type="radio" name="q30" value="b"> b) 8 processes</li>
                                <li><input type="radio" name="q30" value="c"> c) 16 processes</li>
                                <li><input type="radio" name="q30" value="d"> d) 32 processes</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="31" data-type="essay" data-marks="2">
                        <span class="question-number">Q31</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is a zombie process? What is an orphan process?
                            <textarea class="answer-textarea" name="q31" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="32" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q32</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            What is cascading termination?
                            <ul class="options">
                                <li><input type="radio" name="q32" value="a"> a) When a process terminates normally</li>
                                <li><input type="radio" name="q32" value="b"> b) When a parent terminates, all its children and descendants are also terminated</li>
                                <li><input type="radio" name="q32" value="c"> c) When multiple processes terminate at the same time</li>
                                <li><input type="radio" name="q32" value="d"> d) When a process fails and crashes</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="33" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q33</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            (True/False - From old exam) A process gets created when an icon of an executable file is double-clicked.
                            <ul class="options">
                                <li><input type="radio" name="q33" value="a"> a) True</li>
                                <li><input type="radio" name="q33" value="b"> b) False</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>

                <!-- Section 6: Interprocess Communication (IPC) -->
                <div class="section">
                    <div class="section-title">Section 6: Interprocess Communication (IPC) (18 marks)</div>
                    
                    <div class="question" data-question="34" data-type="essay" data-marks="3">
                        <span class="question-number">Q34</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            What is the difference between independent processes and cooperating processes? Give reasons why processes might cooperate.
                            <textarea class="answer-textarea" name="q34" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="35" data-type="essay" data-marks="3">
                        <span class="question-number">Q35</span>
                        <span class="question-marks">[3 marks]</span>
                        <div class="question-text">
                            Describe the TWO fundamental models of interprocess communication (IPC). What are the advantages and disadvantages of each?
                            <textarea class="answer-textarea" name="q35" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="36" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q36</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            In shared memory IPC, who controls the communication?
                            <ul class="options">
                                <li><input type="radio" name="q36" value="a"> a) The operating system</li>
                                <li><input type="radio" name="q36" value="b"> b) The user processes</li>
                                <li><input type="radio" name="q36" value="c"> c) The kernel</li>
                                <li><input type="radio" name="q36" value="d"> d) The hardware</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="37" data-type="essay" data-marks="2">
                        <span class="question-number">Q37</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the Producer-Consumer problem? Briefly describe it.
                            <textarea class="answer-textarea" name="q37" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="38" data-type="essay" data-marks="2">
                        <span class="question-number">Q38</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the difference between bounded-buffer and unbounded-buffer in the Producer-Consumer problem?
                            <textarea class="answer-textarea" name="q38" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="39" data-type="mcq" data-marks="1" data-answer="b">
                        <span class="question-number">Q39</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            In message passing IPC, processes communicate by:
                            <ul class="options">
                                <li><input type="radio" name="q39" value="a"> a) Sharing a region of memory</li>
                                <li><input type="radio" name="q39" value="b"> b) Sending and receiving messages</li>
                                <li><input type="radio" name="q39" value="c"> c) Using global variables</li>
                                <li><input type="radio" name="q39" value="d"> d) Modifying each other's stack</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="40" data-type="essay" data-marks="2">
                        <span class="question-number">Q40</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the difference between direct and indirect communication in message passing?
                            <textarea class="answer-textarea" name="q40" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="41" data-type="essay" data-marks="2">
                        <span class="question-number">Q41</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Explain the difference between blocking (synchronous) and non-blocking (asynchronous) message passing.
                            <textarea class="answer-textarea" name="q41" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="42" data-type="mcq" data-marks="1" data-answer="c">
                        <span class="question-number">Q42</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            In indirect communication, messages are sent to and received from:
                            <ul class="options">
                                <li><input type="radio" name="q42" value="a"> a) Specific process IDs</li>
                                <li><input type="radio" name="q42" value="b"> b) Shared memory segments</li>
                                <li><input type="radio" name="q42" value="c"> c) Mailboxes (or ports)</li>
                                <li><input type="radio" name="q42" value="d"> d) The operating system kernel</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="43" data-type="mcq" data-marks="1" data-answer="a">
                        <span class="question-number">Q43</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            Which IPC mechanism is generally faster?
                            <ul class="options">
                                <li><input type="radio" name="q43" value="a"> a) Shared memory</li>
                                <li><input type="radio" name="q43" value="b"> b) Message passing</li>
                                <li><input type="radio" name="q43" value="c"> c) Both are equally fast</li>
                                <li><input type="radio" name="q43" value="d"> d) It depends on the OS</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>

                <!-- Section 7: Additional Concepts (Bonus) -->
                <div class="section">
                    <div class="section-title">Section 7: Additional Concepts (Bonus: 10 marks)</div>

                    <div class="question" data-question="44" data-type="essay" data-marks="2">
                        <span class="question-number">Q44</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Assume a single processor multiprogramming system: If process P1 is executing and wants to perform I/O operation, what state transitions occur? What happens with the PCB?
                            <textarea class="answer-textarea" name="q44" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="45" data-type="mcq" data-marks="2" data-answer="b">
                        <span class="question-number">Q45</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            Consider the following code (from old exam):
                            <div class="code-block">
#include &lt;sys/types.h&gt;
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
int main() {
    pid_t pid, pid1;
    pid = fork();
    if (pid == 0) {
        pid1 = getpid();
        printf("child: pid = %d",pid);     /* A */
        printf("child: pid1 = %d",pid1);   /* B */
    } else {
        pid1 = getpid();
        printf("parent: pid = %d",pid);    /* C */
        printf("parent: pid1 = %d",pid1);  /* D */
        wait(NULL);
    }
    return 0;
}
                            </div>
                            Assume actual pids are: parent=2600, child=2603. What is printed at line C?
                            <ul class="options">
                                <li><input type="radio" name="q45" value="a"> a) parent: pid = 2600</li>
                                <li><input type="radio" name="q45" value="b"> b) parent: pid = 2603</li>
                                <li><input type="radio" name="q45" value="c"> c) parent: pid = 0</li>
                                <li><input type="radio" name="q45" value="d"> d) parent: pid = 1</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="46" data-type="essay" data-marks="2">
                        <span class="question-number">Q46</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What are pipes? How are they used for IPC in UNIX systems?
                            <textarea class="answer-textarea" name="q46" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="47" data-type="essay" data-marks="2">
                        <span class="question-number">Q47</span>
                        <span class="question-marks">[2 marks]</span>
                        <div class="question-text">
                            What is the Chrome browser's multiprocess architecture? Why does Chrome use multiple processes?
                            <textarea class="answer-textarea" name="q47" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="48" data-type="mcq" data-marks="1" data-answer="d">
                        <span class="question-number">Q48</span>
                        <span class="question-marks">[1 mark]</span>
                        <div class="question-text">
                            Chrome's renderer processes run in a:
                            <ul class="options">
                                <li><input type="radio" name="q48" value="a"> a) Kernel mode</li>
                                <li><input type="radio" name="q48" value="b"> b) Supervisor mode</li>
                                <li><input type="radio" name="q48" value="c"> c) System mode</li>
                                <li><input type="radio" name="q48" value="d"> d) Sandbox (restricted environment)</li>
                            </ul>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="49" data-type="essay" data-marks="3">
                        <span class="question-number">Q49</span>
                        <span class="question-marks">[Bonus 3 marks]</span>
                        <div class="question-text">
                            Explain the race condition problem with the Producer-Consumer example where both producer and consumer modify a shared counter variable. Why does this problem occur?
                            <textarea class="answer-textarea" name="q49" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>

                    <div class="question" data-question="50" data-type="essay" data-marks="3">
                        <span class="question-number">Q50</span>
                        <span class="question-marks">[Bonus 3 marks]</span>
                        <div class="question-text">
                            Compare and contrast processes and threads. When would you use multiple processes vs. multiple threads?
                            <textarea class="answer-textarea" name="q50" placeholder="Write your answer here..."></textarea>
                        </div>
                        <div class="feedback"></div>
                    </div>
                </div>

                <div class="submit-container">
                    <button type="submit" class="submit-btn">ðŸ“ Submit Exam</button>
                </div>

                <div class="results-container" id="results">
                    <div class="results-header">
                        <h2>Exam Results</h2>
                        <div class="score-display" id="scoreDisplay"></div>
                        <p id="scoreText"></p>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="footer">
            <p>Operating Systems (CS 330) - Chapter 3 Examination</p>
            <p class="footer-name">Prepared by: Shoug Alomran</p>
        </div>
    </div>

    <script>
        const modelAnswers = {
            q3: {
                keywords: ['program', 'passive', 'disk', 'process', 'active', 'execution', 'memory'],
                model: "A program is a passive entity stored on disk as an executable file containing instructions. A process is an active entity - it's a program in execution. When an executable file is loaded into memory and begins executing, it becomes a process. One program can create multiple processes (e.g., multiple users running the same program).",
                explanation: "Program = code on disk (passive). Process = program running in memory (active). This is a fundamental distinction in OS."
            },
            q4: {
                keywords: ['stack', 'function', 'parameters', 'local variables', 'return addresses', 'heap', 'dynamically allocated', 'runtime'],
                model: "Stack contains temporary data: function parameters, return addresses, and local variables. It grows and shrinks as functions are called and return. Heap contains memory dynamically allocated during runtime (e.g., malloc in C, new in C++/Java). It grows as memory is allocated and shrinks when memory is freed.",
                explanation: "Stack is for temporary, structured data (automatic). Heap is for dynamic, programmer-controlled allocation."
            },
            q6: {
                keywords: ['i/o bound', 'spends more time', 'i/o', 'short cpu bursts', 'cpu bound', 'computations', 'long cpu bursts', 'infrequent i/o'],
                model: "I/O-bound process: Spends more time doing I/O than computations. Has many short CPU bursts. Example: word processor, web browser, database query. CPU-bound process: Spends more time doing computations. Has few very long CPU bursts. Generates I/O requests infrequently. Example: scientific calculations, video encoding, mathematical computations.",
                explanation: "I/O bound = waits for input/output frequently. CPU bound = constantly computing. The OS needs a good mix of both for efficiency."
            },
            q9: {
                keywords: ['new', 'being created', 'ready', 'waiting', 'assigned', 'processor', 'running', 'executing', 'waiting', 'event', 'terminated', 'finished'],
                model: "Five process states: 1) New: The process is being created. 2) Ready: The process is waiting to be assigned to a processor (has all resources except CPU). 3) Running: Instructions are being executed on the CPU. 4) Waiting (Blocked): The process is waiting for some event to occur (like I/O completion). 5) Terminated: The process has finished execution.",
                explanation: "These five states represent the lifecycle of a process from creation to termination. Understanding state transitions is crucial."
            },
            q13: {
                keywords: ['i/o request', 'wait', 'event', 'system call', 'block'],
                model: "A process moves from running to waiting when it makes an I/O request or needs to wait for an event. For example: requesting to read from disk, waiting for user input, waiting for a network packet, requesting a resource that's not available, or calling wait() for a child process.",
                explanation: "The process voluntarily gives up the CPU because it cannot proceed without some external event completing."
            },
            q14: {
                keywords: ['event', 'completion', 'i/o', 'finished', 'ready queue'],
                model: "A process moves from waiting to ready when the event it was waiting for completes. For example: I/O operation finishes, data arrives from network, user provides input, a child process terminates, or a requested resource becomes available. The process then joins the ready queue.",
                explanation: "Once the event completes, the process has everything it needs except CPU time, so it becomes ready to run again."
            },
            q15: {
                keywords: ['process control block', 'pcb', 'information', 'process state', 'program counter', 'cpu registers', 'scheduling', 'memory management', 'accounting', 'i/o status'],
                model: "A Process Control Block (PCB) is a data structure containing all information about a process. Information stored includes: 1) Process state (running, ready, waiting, etc.). 2) Program counter (address of next instruction). 3) CPU registers (contents of all process-centric registers). 4) CPU scheduling information (priorities, queue pointers). 5) Memory-management information (page tables, memory limits). 6) Accounting information (CPU time used, time limits). 7) I/O status information (list of open files, allocated devices).",
                explanation: "The PCB is essential for context switching - it stores everything needed to pause and resume a process."
            },
            q18: {
                keywords: ['context switch', 'save', 'state', 'pcb', 'load', 'overhead', 'no useful work'],
                model: "During a context switch: 1) The OS saves the state of the currently running process (registers, program counter, etc.) to its PCB. 2) The OS loads the saved state of the next process from its PCB. 3) The CPU begins executing the new process. Context switching is overhead because the system does no useful work while switching - it's purely administrative work to change processes.",
                explanation: "Context switch time is pure overhead. The faster the hardware support (e.g., multiple register sets), the faster the switch."
            },
            q19: {
                keywords: ['maximize', 'cpu utilization', 'keep cpu busy', 'efficient'],
                model: "The main objective of multiprogramming is to maximize CPU utilization by keeping the CPU busy at all times. When one process waits for I/O, the OS switches to another process. This ensures the CPU always has something to execute, improving overall system efficiency.",
                explanation: "Without multiprogramming, the CPU would sit idle whenever a process waits for I/O, wasting valuable computing resources."
            },
            q21: {
                keywords: ['ready queue', 'ready', 'waiting', 'cpu', 'wait queue', 'event', 'i/o'],
                model: "Ready queue: Contains all processes that are in the ready state - waiting to be assigned to a CPU. They have everything they need except CPU time. Wait queue(s): Contains processes in the waiting state - waiting for specific events to occur (like I/O completion). There can be multiple wait queues, one for each event type.",
                explanation: "Ready = can run immediately if given CPU. Waiting = blocked, cannot run until some event happens."
            },
            q22: {
                keywords: ['long-term', 'job scheduler', 'which processes', 'ready queue', 'degree of multiprogramming', 'short-term', 'cpu scheduler', 'which process', 'execute', 'medium-term', 'swapping', 'remove', 'memory'],
                model: "Long-term scheduler (job scheduler): Selects which processes should be brought into the ready queue from the job pool. Controls degree of multiprogramming. Invoked infrequently (seconds, minutes). Short-term scheduler (CPU scheduler): Selects which process from ready queue should be executed next. Invoked frequently (milliseconds). Must be very fast. Medium-term scheduler (swapper): Temporarily removes processes from memory to disk (swapping) to reduce degree of multiprogramming, later swaps them back in.",
                explanation: "Long-term controls HOW MANY processes. Short-term controls WHICH process runs NOW. Medium-term controls swapping."
            },
            q24: {
                keywords: ['medium-term', 'swapping', 'remove', 'memory', 'disk', 'degree of multiprogramming'],
                model: "The medium-term scheduler temporarily removes processes from memory and stores them on disk to reduce the degree of multiprogramming. This is called swapping. Later, the process can be swapped back into memory. This is useful when there are too many processes competing for memory or when the system needs to free up memory.",
                explanation: "Medium-term scheduling is about memory management through swapping, balancing the number of processes in memory."
            },
            q26: {
                keywords: ['parent', 'positive', 'pid', 'child', 'zero', 'return'],
                model: "In the parent process, fork() returns a positive value - the process ID (PID) of the newly created child process. In the child process, fork() returns zero (0). If fork() fails, it returns -1 to the parent.",
                explanation: "This return value difference allows the same code to distinguish whether it's executing in parent or child after fork()."
            },
            q27: {
                keywords: ['exec', 'replace', 'memory space', 'new program', 'fork', 'creates', 'copy'],
                model: "The exec() system call replaces the current process's memory space with a new program. It loads a new program into the current process. fork() creates a new process that is a copy of the parent. Typically, exec() is called after fork() - fork creates a child process, then exec() in the child loads a new program.",
                explanation: "fork() = create new process (duplicate). exec() = replace current process with new program. Often used together."
            },
            q31: {
                keywords: ['zombie', 'terminated', 'parent', 'wait', 'exit status', 'orphan', 'parent terminated', 'adopted'],
                model: "Zombie process: A process that has terminated but whose parent has not yet called wait() to collect its exit status. The PCB remains in the system. Orphan process: A process whose parent has terminated without calling wait(). The orphan is typically adopted by the init process (PID 1) which will call wait() for it.",
                explanation: "Zombie = dead process waiting for parent to collect status. Orphan = living process whose parent died."
            },
            q34: {
                keywords: ['independent', 'cannot affect', 'cooperating', 'can affect', 'share data', 'information sharing', 'computation speedup', 'modularity', 'convenience'],
                model: "Independent processes: Cannot affect or be affected by other processes. Don't share data. Cooperating processes: Can affect or be affected by other processes. Share data. Reasons for cooperation: 1) Information sharing - multiple users need same data. 2) Computation speedup - break task into subtasks running in parallel. 3) Modularity - divide system into separate processes/modules. 4) Convenience - work on multiple tasks simultaneously.",
                explanation: "Most modern applications use cooperating processes/threads for parallel processing and data sharing."
            },
            q35: {
                keywords: ['shared memory', 'message passing', 'fast', 'synchronization', 'kernel', 'send', 'receive', 'easier'],
                model: "Two IPC models: 1) Shared Memory: Processes share a region of memory. Advantages: Fast (no kernel intervention after setup). Disadvantages: Requires explicit synchronization, harder to implement. 2) Message Passing: Processes exchange messages via send/receive. Advantages: Easier to implement, good for small data. Disadvantages: Slower (kernel involvement), overhead for each message.",
                explanation: "Shared memory is faster but requires careful synchronization. Message passing is easier but has more overhead."
            },
            q37: {
                keywords: ['producer', 'consumer', 'produces', 'information', 'consumed', 'buffer', 'paradigm'],
                model: "The Producer-Consumer problem is a classic synchronization problem and paradigm for cooperating processes. A producer process produces information/data that is consumed by a consumer process. They share a buffer. The challenge is coordinating access to the buffer so the producer doesn't write to a full buffer and the consumer doesn't read from an empty buffer.",
                explanation: "This is one of the most common patterns in concurrent programming - one process generates data, another processes it."
            },
            q38: {
                keywords: ['bounded', 'fixed', 'size', 'producer waits', 'full', 'unbounded', 'no practical limit', 'producer never waits'],
                model: "Bounded-buffer: Fixed buffer size. Producer must wait if all buffers are full. Consumer waits if buffer is empty. Unbounded-buffer: No practical limit on buffer size. Producer never waits (can always produce). Consumer still waits if buffer is empty.",
                explanation: "Bounded is more realistic but requires both producer and consumer to potentially wait. Unbounded simplifies producer logic."
            },
            q40: {
                keywords: ['direct', 'name', 'explicitly', 'send', 'receive', 'indirect', 'mailbox', 'port'],
                model: "Direct communication: Processes must explicitly name each other. Example: send(P, message) sends to process P, receive(Q, message) receives from process Q. Exactly one link between each pair. Indirect communication: Messages sent to and received from mailboxes (or ports). Processes don't name each other, they name mailboxes. Multiple processes can share a mailbox.",
                explanation: "Direct = point-to-point, processes know each other. Indirect = through intermediary, more flexible."
            },
            q41: {
                keywords: ['blocking', 'synchronous', 'sender waits', 'receiver waits', 'non-blocking', 'asynchronous', 'sender continues', 'receiver continues'],
                model: "Blocking (synchronous): Blocking send - sender blocks until message is received. Blocking receive - receiver blocks until message is available. Non-blocking (asynchronous): Non-blocking send - sender sends message and continues. Non-blocking receive - receiver receives valid message or null and continues.",
                explanation: "Blocking = wait until operation completes. Non-blocking = operation returns immediately, may or may not have completed."
            },
            q44: {
                keywords: ['running', 'waiting', 'i/o', 'save', 'pcb', 'context switch', 'ready queue', 'execute'],
                model: "P1 moves from running to waiting state when it requests I/O. The OS saves P1's state (registers, PC, etc.) to P1's PCB. The OS then selects a new process P2 from the ready queue, loads P2's PCB (context switch), and P2 begins executing. When P1's I/O completes, P1 moves from waiting to ready and joins the ready queue.",
                explanation: "This demonstrates multiprogramming - while P1 waits for I/O, the CPU can do useful work by running P2."
            },
            q46: {
                keywords: ['pipe', 'communication', 'channel', 'unidirectional', 'parent', 'child', 'ordinary', 'named'],
                model: "Pipes are a mechanism for IPC that acts as a conduit allowing two processes to communicate. Ordinary pipes: Unidirectional, require parent-child relationship, created with pipe() system call. One process writes to one end, another reads from the other end. Named pipes (FIFOs): Bidirectional, don't require parent-child relationship, persist beyond process lifetime.",
                explanation: "Pipes are one of the earliest and simplest IPC mechanisms in UNIX, still widely used today."
            },
            q47: {
                keywords: ['chrome', 'multiprocess', 'browser process', 'renderer', 'plugin', 'sandbox', 'isolate', 'crash'],
                model: "Chrome uses three types of processes: 1) Browser process - manages UI, disk/network I/O. 2) Renderer process - renders web pages, handles HTML/JavaScript. A new renderer is created for each website. Runs in sandbox to restrict disk/network I/O. 3) Plug-in process - for each type of plug-in. Benefits: If one website crashes, others continue working. Security: exploits contained to renderer sandbox.",
                explanation: "Multiprocess architecture provides isolation and stability - one bad website can't crash the entire browser."
            },
            q49: {
                keywords: ['race condition', 'counter', 'increment', 'decrement', 'concurrent', 'interleaving', 'unpredictable', 'synchronization'],
                model: "Race condition occurs when multiple processes access and manipulate shared data concurrently, and the outcome depends on the order of execution. Example: Producer increments counter (counter++), Consumer decrements it (counter--). These operations are NOT atomic - they involve multiple machine instructions (load, modify, store). If interleaved improperly (e.g., both read count=5, producer writes 6, consumer writes 4), the final value is incorrect. This occurs because there's no synchronization to ensure mutual exclusion.",
                explanation: "Race conditions are a fundamental problem in concurrent programming, solved by synchronization mechanisms like locks and semaphores."
            },
            q50: {
                keywords: ['process', 'address space', 'resources', 'thread', 'share', 'lightweight', 'context switch', 'overhead'],
                model: "Processes: Independent address spaces, separate resources, heavyweight, expensive to create/switch. Communication requires IPC. Threads: Share address space and resources, lightweight, fast to create/switch. Direct communication through shared memory. Use multiple processes when: need isolation, fault tolerance, distributed systems. Use multiple threads when: need sharing, speed, within same application.",
                explanation: "Threads are like lightweight processes within a process. Most modern applications are multithreaded for performance."
            }
        };

        const explanations = {
            q1: "A process is a program in execution - the fundamental unit of work in a modern OS. A program is passive (on disk), a process is active (in memory, executing).",
            q2: "Cache is a hardware component, not a process memory section. The four sections are: Text (code), Data (global variables), Heap (dynamic), Stack (temporary).",
            q5: "The text section contains the executable code - the machine instructions that make up the program.",
            q7: "One program can create multiple processes - for example, when multiple users run the same program (like a text editor), each creates their own process.",
            q8: "A program becomes a process when its executable file is loaded into memory for execution. Before that, it's just a file on disk.",
            q10: "From running, a process can go to: terminated (finishes), waiting (I/O request), or ready (time slice expires in preemptive scheduling).",
            q11: "Waiting (or blocked) state is when a process is waiting for an event like I/O completion. It cannot proceed until the event occurs.",
            q12: "True. Only one process can execute on a single processor core at any instant. Multiple processes can be ready or waiting, but only one runs.",
            q16: "PCB is also called Task Control Block (TCB). Both terms refer to the data structure containing process information.",
            q17: "False. These are stored in the PCB (Process Control Block), not the text section. Text section contains program code only.",
            q20: "Degree of multiprogramming = number of processes currently in memory. Higher degree = more processes competing for CPU.",
            q23: "The short-term scheduler (CPU scheduler) selects which ready process executes next. It runs very frequently (milliseconds).",
            q25: "fork() creates a new process in UNIX. It's one of the most important system calls for process creation.",
            q28: "The child modifies its OWN copy of value (child processes get separate memory). The parent's value remains 5.",
            q29: "Each fork doubles the processes: 1 â†’ 2 â†’ 4 â†’ 8. So 2Â³ = 8 total processes including the original.",
            q30: "Loop executes 4 times, each iteration doubles processes: 1â†’2â†’4â†’8â†’16. Formula: 2â´ = 16 processes.",
            q32: "Cascading termination: when a parent terminates, all descendants are also terminated by the OS.",
            q33: "True. Double-clicking an executable icon causes the OS to create a process from that program.",
            q36: "In shared memory, user processes control communication. OS just sets up the shared region, then stays out.",
            q39: "Message passing uses send() and receive() operations. Processes explicitly exchange messages through the OS.",
            q42: "Indirect communication uses mailboxes (also called ports). Multiple processes can share a mailbox.",
            q43: "Shared memory is faster - no kernel intervention after initial setup. Message passing requires kernel calls for each message.",
            q45: "In the parent, fork() returns the child's PID (2603). So pid=2603 in the parent.",
            q48: "Chrome's renderer processes run in a sandbox - a restricted environment that limits disk/network access for security."
        };

        document.getElementById('examForm').addEventListener('submit', function(e) {
            e.preventDefault();
            gradeExam();
        });

        function gradeExam() {
            let totalScore = 0;
            let maxScore = 0;

            const questions = document.querySelectorAll('.question');
            
            questions.forEach(question => {
                const qNum = question.dataset.question;
                const qType = question.dataset.type;
                const marks = parseInt(question.dataset.marks);
                maxScore += marks;

                if (qType === 'mcq') {
                    const selected = document.querySelector(`input[name="q${qNum}"]:checked`);
                    const correct = question.dataset.answer;
                    
                    const feedback = question.querySelector('.feedback');
                    feedback.style.display = 'block';
                    
                    if (selected && selected.value === correct) {
                        totalScore += marks;
                        question.classList.add('graded', 'correct');
                        feedback.className = 'feedback correct';
                        feedback.innerHTML = `
                            <span class="feedback-icon">âœ“</span>
                            <strong>Correct!</strong> You earned ${marks} mark(s).
                            <div class="explanation">
                                <div class="explanation-title">ðŸ’¡ Explanation:</div>
                                ${explanations[`q${qNum}`] || 'Well done!'}
                            </div>
                        `;
                    } else {
                        question.classList.add('graded', 'incorrect');
                        feedback.className = 'feedback incorrect';
                        const correctOption = question.querySelector(`input[value="${correct}"]`).parentElement.textContent.trim();
                        feedback.innerHTML = `
                            <span class="feedback-icon">âœ—</span>
                            <strong>Incorrect.</strong> You earned 0 marks.
                            <div class="model-answer">
                                <div class="model-answer-title">âœ“ Correct Answer:</div>
                                ${correctOption}
                            </div>
                            <div class="explanation">
                                <div class="explanation-title">ðŸ’¡ Why you were wrong:</div>
                                ${explanations[`q${qNum}`] || 'Review the material for this concept.'}
                            </div>
                        `;
                    }
                } else if (qType === 'essay') {
                    const answer = document.querySelector(`[name="q${qNum}"]`).value.trim().toLowerCase();
                    const model = modelAnswers[`q${qNum}`];
                    
                    const feedback = question.querySelector('.feedback');
                    feedback.style.display = 'block';
                    
                    if (answer.length === 0) {
                        question.classList.add('graded', 'incorrect');
                        feedback.className = 'feedback incorrect';
                        feedback.innerHTML = `
                            <span class="feedback-icon">âœ—</span>
                            <strong>No Answer Provided.</strong> You earned 0 marks.
                            <div class="model-answer">
                                <div class="model-answer-title">ðŸ“ Model Answer:</div>
                                ${model.model}
                            </div>
                        `;
                    } else {
                        let score = 0;
                        let foundKeywords = [];
                        let missingKeywords = [];
                        
                        model.keywords.forEach(keyword => {
                            if (answer.includes(keyword.toLowerCase())) {
                                foundKeywords.push(keyword);
                                score++;
                            } else {
                                missingKeywords.push(keyword);
                            }
                        });
                        
                        const percentage = (foundKeywords.length / model.keywords.length) * 100;
                        let earnedMarks = 0;
                        
                        if (percentage >= 70) {
                            earnedMarks = marks;
                            question.classList.add('graded', 'correct');
                            feedback.className = 'feedback correct';
                        } else if (percentage >= 40) {
                            earnedMarks = Math.ceil(marks * (percentage / 100));
                            question.classList.add('graded', 'partial');
                            feedback.className = 'feedback partial';
                        } else {
                            question.classList.add('graded', 'incorrect');
                            feedback.className = 'feedback incorrect';
                        }
                        
                        totalScore += earnedMarks;
                        
                        let feedbackHTML = `
                            <span class="feedback-icon">${earnedMarks === marks ? 'âœ“' : earnedMarks > 0 ? 'â—' : 'âœ—'}</span>
                            <strong>${earnedMarks === marks ? 'Excellent!' : earnedMarks > 0 ? 'Partial Credit' : 'Needs Improvement'}</strong> 
                            You earned ${earnedMarks} out of ${marks} mark(s). (${percentage.toFixed(0)}% keyword match)
                            <div style="margin-top: 10px;">
                                <strong>Keywords found:</strong> ${foundKeywords.length > 0 ? foundKeywords.join(', ') : 'None'}
                            </div>
                        `;
                        
                        if (missingKeywords.length > 0) {
                            feedbackHTML += `
                                <div style="margin-top: 5px; color: #d32f2f;">
                                    <strong>Missing important concepts:</strong> ${missingKeywords.join(', ')}
                                </div>
                            `;
                        }
                        
                        feedbackHTML += `
                            <div class="model-answer">
                                <div class="model-answer-title">ðŸ“ Model Answer:</div>
                                ${model.model}
                            </div>
                            <div class="explanation">
                                <div class="explanation-title">ðŸ’¡ Explanation:</div>
                                ${model.explanation}
                            </div>
                        `;
                        
                        feedback.innerHTML = feedbackHTML;
                    }
                }
            });

            const percentage = (totalScore / maxScore * 100).toFixed(1);
            const resultsDiv = document.getElementById('results');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const scoreText = document.getElementById('scoreText');
            
            let grade, message, color;
            if (percentage >= 90) {
                grade = 'A+';
                message = 'Outstanding Performance! ðŸŒŸ';
                color = '#11998e';
            } else if (percentage >= 85) {
                grade = 'A';
                message = 'Excellent Work! ðŸŽ‰';
                color = '#15b79e';
            } else if (percentage >= 80) {
                grade = 'B+';
                message = 'Very Good! ðŸ‘';
                color = '#38ef7d';
            } else if (percentage >= 75) {
                grade = 'B';
                message = 'Good Job! ðŸ‘';
                color = '#4ade80';
            } else if (percentage >= 70) {
                grade = 'C+';
                message = 'Satisfactory ðŸ“š';
                color = '#fbbf24';
            } else if (percentage >= 60) {
                grade = 'C';
                message = 'Pass - Keep Studying ðŸ“–';
                color = '#fb923c';
            } else {
                grade = 'F';
                message = 'Needs More Study ðŸ“';
                color = '#ef4444';
            }
            
            scoreDisplay.textContent = `${totalScore}/${maxScore}`;
            scoreDisplay.style.color = color;
            scoreText.innerHTML = `
                <strong style="font-size: 1.5em; color: ${color};">Grade: ${grade}</strong><br>
                <span style="font-size: 1.2em;">${percentage}%</span><br>
                <em>${message}</em>
            `;
            
            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    </script>
</body>
</html>