<script>
  (function () {
    function isArabic() {
      return location.pathname.startsWith("/ar/");
    }

    function setHeaderName() {
      // Put your name near the site title (top bar)
      const title = document.querySelector(".md-header__title .md-header__topic .md-ellipsis");
      if (!title) return;

      // Avoid duplicating the name on instant navigation
      if (document.querySelector(".shoug-name")) return;

      const name = document.createElement("div");
      name.className = "shoug-name";
      name.style.fontSize = "0.75rem";
      name.style.opacity = "0.85";
      name.style.marginTop = "2px";
      name.textContent = isArabic() ? "شوق فواز العمران" : "Shoug Fawaz Alomran";

      // Insert under the site title
      title.parentElement.appendChild(name);
    }

    function translateTabs() {
      if (!isArabic()) return;

      const map = {
        "Home": "الرئيسية",
        "Academics": "الأكاديميات",
        "Career Development": "التطوير المهني",
        "Links": "الروابط",
        "Copyright": "الحقوق"
      };

      document.querySelectorAll(".md-tabs__link").forEach((a) => {
        const t = a.textContent.trim();
        if (map[t]) a.textContent = map[t];
      });
    }

    function applyAll() {
      translateTabs();
      setHeaderName();
    }

    // Run on initial load + Material instant navigation
    document.addEventListener("DOMContentLoaded", applyAll);
    document.addEventListener("navigation:load", applyAll);

    // Safety for delayed rendering
    setTimeout(applyAll, 50);
    setTimeout(applyAll, 250);
  })();
</script>
