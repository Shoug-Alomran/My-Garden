<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mergesort - Comprehensive Study Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 {
            color: #8B3A3A;
            text-align: center;
            font-size: 3em;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            font-size: 1.2em;
            margin-bottom: 40px;
            font-style: italic;
        }

        h2 {
            color: #8B3A3A;
            border-bottom: 3px solid #8B3A3A;
            padding-bottom: 10px;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 2em;
        }

        h3 {
            color: #A0522D;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .highlight-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .important-box {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        code {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 2px 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            line-height: 1.4;
        }

        pre code {
            background: transparent;
            border: none;
            color: inherit;
            padding: 0;
        }

        .keyword { color: #ff79c6; }
        .function { color: #50fa7b; }
        .type { color: #8be9fd; }
        .comment { color: #6272a4; font-style: italic; }
        .string { color: #f1fa8c; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        th {
            background: #8B3A3A;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .visual-example {
            background: #f9f9f9;
            border: 2px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .array-box {
            display: inline-block;
            background: #fff;
            border: 2px solid #333;
            padding: 10px 15px;
            margin: 5px;
            font-weight: bold;
            border-radius: 5px;
            min-width: 40px;
            text-align: center;
        }

        .sorted {
            background: #d4edda;
            border-color: #28a745;
        }

        .unsorted {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .merging {
            background: #fff3cd;
            border-color: #ffc107;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        .complexity {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .complexity-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .complexity-card h4 {
            font-size: 1.2em;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .complexity-card .value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .pros, .cons {
            padding: 20px;
            border-radius: 8px;
        }

        .pros {
            background: #d4edda;
            border: 2px solid #28a745;
        }

        .cons {
            background: #f8d7da;
            border: 2px solid #dc3545;
        }

        .pros h4, .cons h4 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .algorithm-steps {
            counter-reset: step-counter;
            list-style: none;
            margin-left: 0;
        }

        .algorithm-steps li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 60px;
            position: relative;
        }

        .algorithm-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #8B3A3A;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
        }

        .toc {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
            border: 2px solid #dee2e6;
        }

        .toc h3 {
            color: #8B3A3A;
            margin-top: 0;
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
        }

        .toc a {
            color: #495057;
            text-decoration: none;
            display: block;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .toc a:hover {
            background: #8B3A3A;
            color: white;
            transform: translateX(10px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Mergesort</h1>
        <p class="subtitle">A Comprehensive Study Guide</p>

        <div class="toc">
            <h3>üìö Table of Contents</h3>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#how-it-works">How Mergesort Works</a></li>
                <li><a href="#implementation">Java Implementation</a></li>
                <li><a href="#complexity">Complexity Analysis</a></li>
                <li><a href="#bottom-up">Bottom-Up Mergesort</a></li>
                <li><a href="#stability">Stability</a></li>
                <li><a href="#comparators">Comparators</a></li>
                <li><a href="#summary">Summary & Comparison</a></li>
            </ul>
        </div>

        <section id="overview">
            <h2>üìñ Overview</h2>
            
            <div class="highlight-box">
                <h3>What is Mergesort?</h3>
                <p><strong>Mergesort</strong> is a classic divide-and-conquer sorting algorithm that was one of the first algorithms to achieve <strong>O(N log N)</strong> time complexity. It's considered one of the top 10 algorithms of the 20th century in science and engineering.</p>
            </div>

            <div class="info-box">
                <h3>üéØ Basic Plan</h3>
                <ol class="algorithm-steps">
                    <li><strong>Divide:</strong> Split the array into two halves</li>
                    <li><strong>Conquer:</strong> Recursively sort each half</li>
                    <li><strong>Combine:</strong> Merge the two sorted halves together</li>
                </ol>
            </div>

            <div class="visual-example">
                <h4>Example: Sorting "MERGESORTEXAMPLE"</h4>
                <div style="margin: 20px 0;">
                    <p><strong>Input:</strong></p>
                    <span class="array-box unsorted">M</span>
                    <span class="array-box unsorted">E</span>
                    <span class="array-box unsorted">R</span>
                    <span class="array-box unsorted">G</span>
                    <span class="array-box unsorted">E</span>
                    <span class="array-box unsorted">S</span>
                    <span class="array-box unsorted">O</span>
                    <span class="array-box unsorted">R</span>
                    <span class="array-box unsorted">T</span>
                    <span class="array-box unsorted">E</span>
                    <span class="array-box unsorted">X</span>
                    <span class="array-box unsorted">A</span>
                    <span class="array-box unsorted">M</span>
                    <span class="array-box unsorted">P</span>
                    <span class="array-box unsorted">L</span>
                    <span class="array-box unsorted">E</span>
                </div>
                <p style="margin: 20px 0;">‚¨áÔ∏è After sorting left half ‚¨áÔ∏è</p>
                <div style="margin: 20px 0;">
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">G</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">O</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">S</span>
                    <span class="array-box unsorted">T</span>
                    <span class="array-box unsorted">E</span>
                    <span class="array-box unsorted">X</span>
                    <span class="array-box unsorted">A</span>
                    <span class="array-box unsorted">M</span>
                    <span class="array-box unsorted">P</span>
                    <span class="array-box unsorted">L</span>
                    <span class="array-box unsorted">E</span>
                </div>
                <p style="margin: 20px 0;">‚¨áÔ∏è After sorting right half ‚¨áÔ∏è</p>
                <div style="margin: 20px 0;">
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">G</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">O</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">S</span>
                    <span class="array-box sorted">A</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">L</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">P</span>
                    <span class="array-box sorted">T</span>
                    <span class="array-box sorted">X</span>
                </div>
                <p style="margin: 20px 0;">‚¨áÔ∏è After merging ‚¨áÔ∏è</p>
                <div style="margin: 20px 0;">
                    <span class="array-box sorted">A</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">G</span>
                    <span class="array-box sorted">L</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">O</span>
                    <span class="array-box sorted">P</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">S</span>
                    <span class="array-box sorted">T</span>
                    <span class="array-box sorted">X</span>
                </div>
            </div>
        </section>

        <section id="how-it-works">
            <h2>‚öôÔ∏è How Mergesort Works</h2>

            <h3>The Merge Operation</h3>
            <div class="info-box">
                <p><strong>Goal:</strong> Given two sorted subarrays <code>a[lo]</code> to <code>a[mid]</code> and <code>a[mid+1]</code> to <code>a[hi]</code>, replace with a single sorted subarray <code>a[lo]</code> to <code>a[hi]</code>.</p>
            </div>

            <div class="visual-example">
                <h4>Merge Example</h4>
                <p style="margin-bottom: 15px;">Two sorted subarrays:</p>
                <div style="margin: 15px 0;">
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">G</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">R</span>
                    <span style="margin: 0 10px;">|</span>
                    <span class="array-box sorted">A</span>
                    <span class="array-box sorted">C</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">T</span>
                </div>
                <p style="margin: 20px 0;">‚¨áÔ∏è After merging ‚¨áÔ∏è</p>
                <div style="margin: 15px 0;">
                    <span class="array-box sorted">A</span>
                    <span class="array-box sorted">C</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">E</span>
                    <span class="array-box sorted">G</span>
                    <span class="array-box sorted">M</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">R</span>
                    <span class="array-box sorted">T</span>
                </div>
            </div>

            <h3>Merge Algorithm Steps</h3>
            <ol>
                <li><strong>Copy</strong> both subarrays to an auxiliary array</li>
                <li><strong>Compare</strong> elements from each subarray</li>
                <li><strong>Select</strong> the smaller element and place it in the result</li>
                <li><strong>Repeat</strong> until all elements are merged</li>
            </ol>
        </section>

        <section id="implementation">
            <h2>üíª Java Implementation</h2>

            <h3>Merge Method</h3>
            <pre><code><span class="keyword">private static void</span> <span class="function">merge</span>(<span class="type">Comparable</span>[] a, <span class="type">Comparable</span>[] aux, <span class="keyword">int</span> lo, <span class="keyword">int</span> mid, <span class="keyword">int</span> hi) {
    <span class="comment">// Copy elements to auxiliary array</span>
    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k <= hi; k++)
        aux[k] = a[k];
    
    <span class="comment">// Merge back to original array</span>
    <span class="keyword">int</span> i = lo, j = mid + 1;
    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k <= hi; k++) {
        <span class="keyword">if</span>      (i > mid)              a[k] = aux[j++];  <span class="comment">// left exhausted</span>
        <span class="keyword">else if</span> (j > hi)               a[k] = aux[i++];  <span class="comment">// right exhausted</span>
        <span class="keyword">else if</span> (less(aux[j], aux[i])) a[k] = aux[j++];  <span class="comment">// right smaller</span>
        <span class="keyword">else</span>                            a[k] = aux[i++];  <span class="comment">// left smaller or equal</span>
    }
}</code></pre>

            <h3>Top-Down Mergesort</h3>
            <pre><code><span class="keyword">public class</span> <span class="type">Merge</span> {
    <span class="keyword">private static void</span> <span class="function">merge</span>(...) { <span class="comment">/* as above */</span> }
    
    <span class="keyword">private static void</span> <span class="function">sort</span>(<span class="type">Comparable</span>[] a, <span class="type">Comparable</span>[] aux, 
                                   <span class="keyword">int</span> lo, <span class="keyword">int</span> hi) {
        <span class="keyword">if</span> (hi <= lo) <span class="keyword">return</span>;                <span class="comment">// base case</span>
        
        <span class="keyword">int</span> mid = lo + (hi - lo) / 2;      <span class="comment">// find midpoint</span>
        
        sort(a, aux, lo, mid);                <span class="comment">// sort left half</span>
        sort(a, aux, mid + 1, hi);            <span class="comment">// sort right half</span>
        merge(a, aux, lo, mid, hi);           <span class="comment">// merge results</span>
    }
    
    <span class="keyword">public static void</span> <span class="function">sort</span>(<span class="type">Comparable</span>[] a) {
        <span class="type">Comparable</span>[] aux = <span class="keyword">new</span> <span class="type">Comparable</span>[a.length];
        sort(a, aux, 0, a.length - 1);
    }
}</code></pre>

            <div class="highlight-box">
                <h4>üìù Key Implementation Notes</h4>
                <ul>
                    <li>The auxiliary array is created once and reused throughout recursion</li>
                    <li>The merge operation is <strong>in-place</strong> (modifies original array)</li>
                    <li>The algorithm is <strong>not truly in-place</strong> (requires O(N) extra space)</li>
                    <li>Base case: when subarray has 1 or 0 elements, it's already sorted</li>
                </ul>
            </div>
        </section>

        <section id="complexity">
            <h2>üìä Complexity Analysis</h2>

            <div class="complexity">
                <div class="complexity-card">
                    <h4>Time Complexity</h4>
                    <div class="value">O(N log N)</div>
                    <p>Best, Average, and Worst Case</p>
                </div>
                <div class="complexity-card">
                    <h4>Space Complexity</h4>
                    <div class="value">O(N)</div>
                    <p>For auxiliary array</p>
                </div>
                <div class="complexity-card">
                    <h4>Compares</h4>
                    <div class="value">‚â§ N lg N</div>
                    <p>Upper bound</p>
                </div>
                <div class="complexity-card">
                    <h4>Array Accesses</h4>
                    <div class="value">‚â§ 6N lg N</div>
                    <p>Upper bound</p>
                </div>
            </div>

            <h3>Why O(N log N)?</h3>
            <div class="info-box">
                <p><strong>Recurrence Relation:</strong></p>
                <p style="margin: 15px 0; font-size: 1.2em; text-align: center;">
                    <code>T(N) = 2T(N/2) + N</code>
                </p>
                <ul>
                    <li><strong>2T(N/2):</strong> Two recursive calls on halves of the array</li>
                    <li><strong>N:</strong> Linear time to merge the two halves</li>
                    <li><strong>Depth of recursion tree:</strong> log‚ÇÇ N (divide by 2 each time)</li>
                    <li><strong>Work at each level:</strong> N (merge operations)</li>
                    <li><strong>Total work:</strong> N √ó log‚ÇÇ N = <strong>O(N log N)</strong></li>
                </ul>
            </div>

            <h3>Empirical Analysis</h3>
            <table>
                <thead>
                    <tr>
                        <th>Computer</th>
                        <th>Thousand (10¬≥)</th>
                        <th>Million (10‚Å∂)</th>
                        <th>Billion (10‚Åπ)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Home (10‚Å∏ compares/sec)</strong></td>
                        <td>instant</td>
                        <td>1 second</td>
                        <td>18 minutes</td>
                    </tr>
                    <tr>
                        <td><strong>Super (10¬π¬≤ compares/sec)</strong></td>
                        <td>instant</td>
                        <td>instant</td>
                        <td>instant</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <h4>‚ú® Bottom Line</h4>
                <p><strong>Good algorithms are better than supercomputers!</strong></p>
                <p style="margin-top: 10px;">Mergesort on a home computer beats Insertion Sort (O(N¬≤)) on a supercomputer for large datasets.</p>
            </div>
        </section>

        <section id="bottom-up">
            <h2>üîÑ Bottom-Up Mergesort</h2>

            <div class="info-box">
                <h3>Alternative Approach: Non-Recursive</h3>
                <p>Instead of recursively dividing the array, start with small subarrays and iteratively merge them.</p>
            </div>

            <h3>Algorithm</h3>
            <ol class="algorithm-steps">
                <li>Pass through array, merging subarrays of size 1</li>
                <li>Repeat for subarrays of size 2, 4, 8, 16, ...</li>
                <li>Continue until entire array is sorted</li>
            </ol>

            <h3>Implementation</h3>
            <pre><code><span class="keyword">public static void</span> <span class="function">sort</span>(<span class="type">Comparable</span>[] a) {
    <span class="keyword">int</span> N = a.length;
    <span class="type">Comparable</span>[] aux = <span class="keyword">new</span> <span class="type">Comparable</span>[N];
    
    <span class="comment">// sz: size of subarrays to merge (1, 2, 4, 8, ...)</span>
    <span class="keyword">for</span> (<span class="keyword">int</span> sz = 1; sz < N; sz = sz + sz) {
        <span class="comment">// lo: start of left subarray</span>
        <span class="keyword">for</span> (<span class="keyword">int</span> lo = 0; lo < N - sz; lo += sz + sz) {
            merge(a, aux, lo, lo + sz - 1, 
                  Math.min(lo + sz + sz - 1, N - 1));
        }
    }
}</code></pre>

            <div class="pros-cons">
                <div class="pros">
                    <h4>‚úÖ Advantages</h4>
                    <ul>
                        <li>Simple and elegant</li>
                        <li>No recursion overhead</li>
                        <li>Same O(N log N) guarantee</li>
                        <li>Good for systems without recursion support</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>‚ùå Disadvantages</h4>
                    <ul>
                        <li>About 10% slower than top-down on typical systems</li>
                        <li>Less cache-friendly</li>
                        <li>Harder to optimize with cutoff to insertion sort</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="stability">
            <h2>‚öñÔ∏è Stability</h2>

            <div class="highlight-box">
                <h3>What is Stability?</h3>
                <p>A sorting algorithm is <strong>stable</strong> if it preserves the relative order of items with equal keys.</p>
            </div>

            <h3>Why Does Stability Matter?</h3>
            <div class="info-box">
                <p><strong>Typical Use Case:</strong> Sort by multiple criteria</p>
                <ol>
                    <li>First, sort by name (alphabetically)</li>
                    <li>Then, sort by section number</li>
                </ol>
                <p style="margin-top: 15px;">With a <strong>stable</strong> sort, students in the same section remain sorted by name!</p>
            </div>

            <h3>Example: Student Records</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Section</th>
                        <th>After Sorting by Section (Stable)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Andrews</td>
                        <td>3</td>
                        <td style="background: #d4edda;">Andrews (3) ‚Üê Still in order!</td>
                    </tr>
                    <tr>
                        <td>Chen</td>
                        <td>3</td>
                        <td style="background: #d4edda;">Chen (3) ‚Üê Still in order!</td>
                    </tr>
                    <tr>
                        <td>Fox</td>
                        <td>3</td>
                        <td style="background: #d4edda;">Fox (3) ‚Üê Still in order!</td>
                    </tr>
                </tbody>
            </table>

            <h3>Is Mergesort Stable?</h3>
            <div class="success-box">
                <h4>‚úÖ Yes! Mergesort is Stable</h4>
                <p><strong>Key insight:</strong> The merge operation takes from the <strong>left</strong> subarray when keys are equal.</p>
                <pre><code><span class="keyword">if</span> (less(aux[j], aux[i])) a[k] = aux[j++];
<span class="keyword">else</span>                      a[k] = aux[i++];  <span class="comment">// Takes from left if equal</span></code></pre>
            </div>

            <h3>Stability Comparison</h3>
            <table>
                <thead>
                    <tr>
                        <th>Algorithm</th>
                        <th>Stable?</th>
                        <th>Reason</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Insertion Sort</td>
                        <td style="background: #d4edda;">‚úì Yes</td>
                        <td>Equal items never move past each other</td>
                    </tr>
                    <tr>
                        <td>Selection Sort</td>
                        <td style="background: #f8d7da;">‚úó No</td>
                        <td>Long-distance exchanges can move equal items</td>
                    </tr>
                    <tr>
                        <td>Mergesort</td>
                        <td style="background: #d4edda;">‚úì Yes</td>
                        <td>Merge operation preserves order</td>
                    </tr>
                    <tr>
                        <td>Shell Sort</td>
                        <td style="background: #f8d7da;">‚úó No</td>
                        <td>Long-distance exchanges</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="comparators">
            <h2>üîß Comparators</h2>

            <div class="info-box">
                <h3>What is a Comparator?</h3>
                <p>A <strong>Comparator</strong> is a Java interface that allows you to define custom comparison logic, separate from the natural ordering of a type.</p>
            </div>

            <h3>Comparable vs Comparator</h3>
            <table>
                <thead>
                    <tr>
                        <th>Comparable</th>
                        <th>Comparator</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Natural order (part of class)</td>
                        <td>Alternative order (separate class)</td>
                    </tr>
                    <tr>
                        <td><code>compareTo()</code> method</td>
                        <td><code>compare()</code> method</td>
                    </tr>
                    <tr>
                        <td>One ordering per class</td>
                        <td>Multiple orderings possible</td>
                    </tr>
                    <tr>
                        <td><code>Arrays.sort(array)</code></td>
                        <td><code>Arrays.sort(array, comparator)</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>Example: Student Comparators</h3>
            <pre><code><span class="keyword">public class</span> <span class="type">Student</span> {
    <span class="keyword">private final</span> <span class="type">String</span> name;
    <span class="keyword">private final int</span> section;
    
    <span class="comment">// Comparator for sorting by name</span>
    <span class="keyword">public static class</span> <span class="type">ByName</span> <span class="keyword">implements</span> <span class="type">Comparator</span><<span class="type">Student</span>> {
        <span class="keyword">public int</span> <span class="function">compare</span>(<span class="type">Student</span> v, <span class="type">Student</span> w) {
            <span class="keyword">return</span> v.name.compareTo(w.name);
        }
    }
    
    <span class="comment">// Comparator for sorting by section</span>
    <span class="keyword">public static class</span> <span class="type">BySection</span> <span class="keyword">implements</span> <span class="type">Comparator</span><<span class="type">Student</span>> {
        <span class="keyword">public int</span> <span class="function">compare</span>(<span class="type">Student</span> v, <span class="type">Student</span> w) {
            <span class="keyword">return</span> v.section - w.section;
        }
    }
}

<span class="comment">// Usage:</span>
Arrays.sort(students, <span class="keyword">new</span> Student.ByName());
Arrays.sort(students, <span class="keyword">new</span> Student.BySection());</code></pre>

            <h3>Common String Orderings</h3>
            <table>
                <thead>
                    <tr>
                        <th>Order Type</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Natural</td>
                        <td>Now is the time</td>
                    </tr>
                    <tr>
                        <td>Case Insensitive</td>
                        <td>is Now the time</td>
                    </tr>
                    <tr>
                        <td>Spanish</td>
                        <td>caf√© cafetero churro cuarto nube √±o√±o</td>
                    </tr>
                    <tr>
                        <td>British Phone Book</td>
                        <td>McKinley Mackintosh</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="summary">
            <h2>üìù Summary & Comparison</h2>

            <h3>Sorting Algorithm Comparison</h3>
            <table>
                <thead>
                    <tr>
                        <th>Algorithm</th>
                        <th>In-Place?</th>
                        <th>Stable?</th>
                        <th>Best</th>
                        <th>Average</th>
                        <th>Worst</th>
                        <th>Remarks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Selection Sort</strong></td>
                        <td>‚úì</td>
                        <td>‚úó</td>
                        <td>¬ΩN¬≤</td>
                        <td>¬ΩN¬≤</td>
                        <td>¬ΩN¬≤</td>
                        <td>N exchanges</td>
                    </tr>
                    <tr>
                        <td><strong>Insertion Sort</strong></td>
                        <td>‚úì</td>
                        <td>‚úì</td>
                        <td>N</td>
                        <td>¬ºN¬≤</td>
                        <td>¬ΩN¬≤</td>
                        <td>Use for small N or partially ordered</td>
                    </tr>
                    <tr>
                        <td><strong>Shell Sort</strong></td>
                        <td>‚úì</td>
                        <td>‚úó</td>
                        <td>N log N</td>
                        <td>?</td>
                        <td>N^(3/2)</td>
                        <td>Tight code; subquadratic</td>
                    </tr>
                    <tr style="background: #fff3cd;">
                        <td><strong>Mergesort</strong></td>
                        <td>‚úó</td>
                        <td>‚úì</td>
                        <td>¬ΩN log N</td>
                        <td>N log N</td>
                        <td>N log N</td>
                        <td><strong>N log N guarantee; stable</strong></td>
                    </tr>
                </tbody>
            </table>

            <div class="pros-cons">
                <div class="pros">
                    <h4>‚úÖ Mergesort Advantages</h4>
                    <ul>
                        <li><strong>Guaranteed O(N log N)</strong> in all cases</li>
                        <li><strong>Stable</strong> - preserves relative order</li>
                        <li>Predictable performance</li>
                        <li>Parallelizable</li>
                        <li>Good for external sorting</li>
                        <li>Used in Java's <code>Arrays.sort()</code> for objects</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>‚ùå Mergesort Disadvantages</h4>
                    <ul>
                        <li><strong>Not in-place</strong> - requires O(N) extra space</li>
                        <li>Slower than quicksort in practice</li>
                        <li>Not adaptive to pre-sorted data</li>
                        <li>Overhead from array copying</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box">
                <h3>üéØ When to Use Mergesort</h3>
                <ul>
                    <li><strong>Stability is required</strong> (sorting by multiple keys)</li>
                    <li><strong>Guaranteed O(N log N)</strong> is essential</li>
                    <li>Working with <strong>linked lists</strong> (can be in-place with lists)</li>
                    <li><strong>External sorting</strong> (data doesn't fit in memory)</li>
                    <li><strong>Parallel sorting</strong> (easy to parallelize)</li>
                    <li>Extra space is not a concern</li>
                </ul>
            </div>

            <div class="important-box">
                <h3>üîë Key Takeaways</h3>
                <ol>
                    <li>Mergesort achieves <strong>O(N log N)</strong> through divide-and-conquer</li>
                    <li>The <strong>merge operation</strong> is the key to the algorithm</li>
                    <li>It's <strong>stable</strong> and has <strong>guaranteed</strong> performance</li>
                    <li>Trade-off: <strong>O(N) space</strong> for O(N log N) time</li>
                    <li>Bottom-up version eliminates recursion overhead</li>
                    <li>Used extensively in practice (Java, Python, etc.)</li>
                </ol>
            </div>
        </section>

        <div style="margin-top: 60px; padding: 30px; background: #f8f9fa; border-radius: 10px; text-align: center;">
            <h2 style="color: #8B3A3A; margin-bottom: 20px;">üéì Study Tips</h2>
            <div style="text-align: left; max-width: 800px; margin: 0 auto;">
                <ul style="font-size: 1.1em; line-height: 2;">
                    <li>‚úèÔ∏è <strong>Practice tracing</strong> the algorithm on paper with small examples</li>
                    <li>üí° <strong>Understand the recurrence:</strong> T(N) = 2T(N/2) + N</li>
                    <li>üîç <strong>Focus on the merge operation</strong> - it's the heart of the algorithm</li>
                    <li>üìä <strong>Compare with other sorts</strong> - know the trade-offs</li>
                    <li>üíª <strong>Implement both versions</strong> - top-down and bottom-up</li>
                    <li>üéØ <strong>Remember stability</strong> - key advantage over quicksort</li>
                    <li>üìù <strong>Practice complexity analysis</strong> - time and space</li>
                </ul>
            </div>
        </div>

        <footer style="margin-top: 60px; padding: 30px; text-align: center; border-top: 2px solid #8B3A3A; color: #666;">
            <p style="font-size: 1.1em;">üìö Based on <em>Algorithms, Fourth Edition</em> by Robert Sedgewick and Kevin Wayne</p>
            <p style="margin-top: 10px;">üåê <a href="http://algs4.cs.princeton.edu" style="color: #8B3A3A;">algs4.cs.princeton.edu</a></p>
            <p style="margin-top: 20px; font-style: italic;">Good luck with your studies! üöÄ</p>
        </footer>
    </div>
</body>
</html>