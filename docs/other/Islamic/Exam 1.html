<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISC 103 - Islamic Economic System Exam</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        .exam-info {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 3px solid #667eea;
        }
        
        .exam-info p {
            margin: 8px 0;
            font-size: 1.05em;
        }
        
        .student-info {
            background: #e9ecef;
            padding: 25px 30px;
            border-bottom: 2px solid #dee2e6;
        }
        
        .student-info h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            color: #495057;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .exam-content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            margin: -25px -25px 20px -25px;
            border-radius: 10px 10px 0 0;
        }
        
        .section-header h2 {
            font-size: 1.5em;
        }
        
        .section-header .points {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .question {
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .question:hover {
            border-color: #667eea;
            box-shadow: 0 4px 8px rgba(102, 126, 234, 0.1);
        }
        
        .question-header {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .question-number {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 3px 10px;
            border-radius: 15px;
            margin-right: 10px;
            font-size: 0.9em;
        }
        
        textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-family: inherit;
            font-size: 1em;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .mcq-options, .tf-options {
            margin-top: 15px;
        }
        
        .option {
            margin: 10px 0;
            padding: 12px 15px;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background: #e9ecef;
            border-color: #667eea;
        }
        
        .option input[type="radio"] {
            margin-right: 10px;
            cursor: pointer;
            width: 18px;
            height: 18px;
        }
        
        .option label {
            cursor: pointer;
            flex: 1;
        }
        
        .fill-blank {
            display: inline-block;
            min-width: 150px;
            padding: 5px 10px;
            border: none;
            border-bottom: 2px solid #667eea;
            background: transparent;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .fill-blank:focus {
            outline: none;
            background: #f8f9fa;
            border-bottom-color: #764ba2;
        }
        
        .list-input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 1em;
        }
        
        .list-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .submit-section {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            border-top: 3px solid #667eea;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 50px;
            border: none;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .results {
            display: none;
            padding: 30px;
            background: white;
        }
        
        .results.show {
            display: block;
        }
        
        .results-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .results-header h2 {
            font-size: 2em;
            margin-bottom: 15px;
        }
        
        .score-display {
            font-size: 3em;
            font-weight: 700;
            margin: 20px 0;
        }
        
        .grade-letter {
            font-size: 2.5em;
            margin: 15px 0;
            padding: 15px 30px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            display: inline-block;
        }
        
        .section-results {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .section-results h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .question-result {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #dee2e6;
        }
        
        .question-result.correct {
            border-left-color: #28a745;
            background: #f0fff4;
        }
        
        .question-result.incorrect {
            border-left-color: #dc3545;
            background: #fff5f5;
        }
        
        .question-result.partial {
            border-left-color: #ffc107;
            background: #fffbf0;
        }
        
        .result-icon {
            display: inline-block;
            margin-right: 10px;
            font-weight: 700;
            font-size: 1.2em;
        }
        
        .correct .result-icon {
            color: #28a745;
        }
        
        .incorrect .result-icon {
            color: #dc3545;
        }
        
        .partial .result-icon {
            color: #ffc107;
        }
        
        .your-answer {
            margin-top: 10px;
            padding: 10px;
            background: #e9ecef;
            border-radius: 5px;
        }
        
        .correct-answer {
            margin-top: 10px;
            padding: 10px;
            background: #d4edda;
            border-radius: 5px;
            color: #155724;
        }
        
        .feedback {
            margin-top: 10px;
            font-style: italic;
            color: #6c757d;
        }
        
        .retry-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 12px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        .retry-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        @media print {
            .submit-section, .retry-btn {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.6em;
            }
            .exam-content {
                padding: 20px;
            }
            .section {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ISC 103 Examination</h1>
            <p>Islamic Economic System</p>
        </header>
        
        <div class="exam-info">
            <p><strong>Instructor:</strong> Dr. Amal Sharaf</p>
            <p><strong>Total Points:</strong> 100</p>
            <p><strong>Duration:</strong> 120 minutes</p>
            <p><strong>Instructions:</strong> Answer all questions carefully. The exam will be graded automatically based on keyword detection.</p>
        </div>
        
        <div class="student-info">
            <h3>Student Information</h3>
            <div class="form-group">
                <label>Full Name:</label>
                <input type="text" id="studentName" required>
            </div>
            <div class="form-group">
                <label>Student ID:</label>
                <input type="text" id="studentID" required>
            </div>
        </div>
        
        <div class="exam-content">
            <!-- Section 1: Write the Term -->
            <div class="section">
                <div class="section-header">
                    <h2>Section 1: Define the Following Terms</h2>
                    <p class="points">Total: 20 points (4 points each)</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q1</span>
                        What is the definition of Islamic Economy?
                    </div>
                    <textarea id="q1" placeholder="Write your answer here..."></textarea>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q2</span>
                        Define "Zakat" and explain its significance in Islam.
                    </div>
                    <textarea id="q2" placeholder="Write your answer here..."></textarea>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q3</span>
                        What is meant by "Utility" in economic terms?
                    </div>
                    <textarea id="q3" placeholder="Write your answer here..."></textarea>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q4</span>
                        Define "Commodity" and list its conditions in Islamic economics.
                    </div>
                    <textarea id="q4" placeholder="Write your answer here..."></textarea>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q5</span>
                        What is "Jizya" and who was required to pay it?
                    </div>
                    <textarea id="q5" placeholder="Write your answer here..."></textarea>
                </div>
            </div>
            
            <!-- Section 2: List Questions -->
            <div class="section">
                <div class="section-header">
                    <h2>Section 2: List the Following</h2>
                    <p class="points">Total: 15 points (5 points each)</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q6</span>
                        List the THREE characteristics of Islamic Economy.
                    </div>
                    <input type="text" class="list-input" id="q6-1" placeholder="1.">
                    <input type="text" class="list-input" id="q6-2" placeholder="2.">
                    <input type="text" class="list-input" id="q6-3" placeholder="3.">
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q7</span>
                        List FOUR disadvantages of the Capitalist Economy.
                    </div>
                    <input type="text" class="list-input" id="q7-1" placeholder="1.">
                    <input type="text" class="list-input" id="q7-2" placeholder="2.">
                    <input type="text" class="list-input" id="q7-3" placeholder="3.">
                    <input type="text" class="list-input" id="q7-4" placeholder="4.">
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q8</span>
                        List the FIVE categories mentioned in the Hadith about what a person will be asked about on the Day of Judgment.
                    </div>
                    <input type="text" class="list-input" id="q8-1" placeholder="1.">
                    <input type="text" class="list-input" id="q8-2" placeholder="2.">
                    <input type="text" class="list-input" id="q8-3" placeholder="3.">
                    <input type="text" class="list-input" id="q8-4" placeholder="4.">
                    <input type="text" class="list-input" id="q8-5" placeholder="5.">
                </div>
            </div>
            
            <!-- Section 3: True/False -->
            <div class="section">
                <div class="section-header">
                    <h2>Section 3: True or False</h2>
                    <p class="points">Total: 15 points (3 points each)</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q9</span>
                        Zakat is the fourth pillar of Islam.
                    </div>
                    <div class="tf-options">
                        <div class="option">
                            <input type="radio" name="q9" id="q9-true" value="true">
                            <label for="q9-true">True</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q9" id="q9-false" value="false">
                            <label for="q9-false">False</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q10</span>
                        In Islamic economy, money belongs to Allah and people are merely trustees.
                    </div>
                    <div class="tf-options">
                        <div class="option">
                            <input type="radio" name="q10" id="q10-true" value="true">
                            <label for="q10-true">True</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q10" id="q10-false" value="false">
                            <label for="q10-false">False</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q11</span>
                        Capitalism focuses on balancing individual and community interests equally.
                    </div>
                    <div class="tf-options">
                        <div class="option">
                            <input type="radio" name="q11" id="q11-true" value="true">
                            <label for="q11-true">True</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q11" id="q11-false" value="false">
                            <label for="q11-false">False</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q12</span>
                        The concept of wealth includes both goods and services.
                    </div>
                    <div class="tf-options">
                        <div class="option">
                            <input type="radio" name="q12" id="q12-true" value="true">
                            <label for="q12-true">True</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q12" id="q12-false" value="false">
                            <label for="q12-false">False</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q13</span>
                        Omar Ibn Al-Khattab was the first to establish the state treasury (Beit Al-Mal).
                    </div>
                    <div class="tf-options">
                        <div class="option">
                            <input type="radio" name="q13" id="q13-true" value="true">
                            <label for="q13-true">True</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q13" id="q13-false" value="false">
                            <label for="q13-false">False</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section 4: Multiple Choice -->
            <div class="section">
                <div class="section-header">
                    <h2>Section 4: Multiple Choice Questions</h2>
                    <p class="points">Total: 30 points (3 points each)</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q14</span>
                        What percentage is typically required for Zakat on wealth?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q14" id="q14-a" value="a">
                            <label for="q14-a">A) 1.5%</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q14" id="q14-b" value="b">
                            <label for="q14-b">B) 2.5%</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q14" id="q14-c" value="c">
                            <label for="q14-c">C) 5%</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q14" id="q14-d" value="d">
                            <label for="q14-d">D) 10%</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q15</span>
                        Which of the following is NOT a characteristic of Islamic Economy?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q15" id="q15-a" value="a">
                            <label for="q15-a">A) Dual property</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q15" id="q15-b" value="b">
                            <label for="q15-b">B) Restricted economic liberty</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q15" id="q15-c" value="c">
                            <label for="q15-c">C) Social solidarity</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q15" id="q15-d" value="d">
                            <label for="q15-d">D) Absolute economic freedom</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q16</span>
                        How many categories of Zakat recipients are mentioned in the Quran?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q16" id="q16-a" value="a">
                            <label for="q16-a">A) 5</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q16" id="q16-b" value="b">
                            <label for="q16-b">B) 6</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q16" id="q16-c" value="c">
                            <label for="q16-c">C) 7</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q16" id="q16-d" value="d">
                            <label for="q16-d">D) 8</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q17</span>
                        Which economic system believes that wealth and production means belong to the entire community?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q17" id="q17-a" value="a">
                            <label for="q17-a">A) Capitalism</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q17" id="q17-b" value="b">
                            <label for="q17-b">B) Socialism</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q17" id="q17-c" value="c">
                            <label for="q17-c">C) Islamic Economy</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q17" id="q17-d" value="d">
                            <label for="q17-d">D) Mixed Economy</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q18</span>
                        What does "Fay'" refer to in Islamic economics?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q18" id="q18-a" value="a">
                            <label for="q18-a">A) Land tax</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q18" id="q18-b" value="b">
                            <label for="q18-b">B) Money from non-Muslims without fighting</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q18" id="q18-c" value="c">
                            <label for="q18-c">C) Spoils of war</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q18" id="q18-d" value="d">
                            <label for="q18-d">D) Customs tax</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q19</span>
                        Which Caliph fought people who refused to pay Zakat?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q19" id="q19-a" value="a">
                            <label for="q19-a">A) Omar Ibn Al-Khattab</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q19" id="q19-b" value="b">
                            <label for="q19-b">B) Abu Bakr</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q19" id="q19-c" value="c">
                            <label for="q19-c">C) Othman Ibn Affan</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q19" id="q19-d" value="d">
                            <label for="q19-d">D) Ali Ibn Abi Talib</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q20</span>
                        What fraction of spoils of war goes to the state according to Islamic law?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q20" id="q20-a" value="a">
                            <label for="q20-a">A) One-third</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q20" id="q20-b" value="b">
                            <label for="q20-b">B) One-fourth</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q20" id="q20-c" value="c">
                            <label for="q20-c">C) One-fifth</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q20" id="q20-d" value="d">
                            <label for="q20-d">D) One-half</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q21</span>
                        Which of the following is a disadvantage of Socialism?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q21" id="q21-a" value="a">
                            <label for="q21-a">A) Wealth distribution imbalance</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q21" id="q21-b" value="b">
                            <label for="q21-b">B) Merchandise monopoly</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q21" id="q21-c" value="c">
                            <label for="q21-c">C) Fighting human instinct of ownership</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q21" id="q21-d" value="d">
                            <label for="q21-d">D) Absolute freedom in earning</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q22</span>
                        What is the Arabic word from which "Economy" is linguistically derived?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q22" id="q22-a" value="a">
                            <label for="q22-a">A) قصد (Qasd)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q22" id="q22-b" value="b">
                            <label for="q22-b">B) زكاة (Zakat)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q22" id="q22-c" value="c">
                            <label for="q22-c">C) مال (Mal)</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q22" id="q22-d" value="d">
                            <label for="q22-d">D) خراج (Kharaj)</label>
                        </div>
                    </div>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q23</span>
                        Which is NOT a condition for a commodity in Islamic economics?
                    </div>
                    <div class="mcq-options">
                        <div class="option">
                            <input type="radio" name="q23" id="q23-a" value="a">
                            <label for="q23-a">A) Must be beneficial</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q23" id="q23-b" value="b">
                            <label for="q23-b">B) Must be relatively rare</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q23" id="q23-c" value="c">
                            <label for="q23-c">C) Must be expensive</label>
                        </div>
                        <div class="option">
                            <input type="radio" name="q23" id="q23-d" value="d">
                            <label for="q23-d">D) Must be permissible (Halal)</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section 5: Fill in the Gaps -->
            <div class="section">
                <div class="section-header">
                    <h2>Section 5: Fill in the Blanks</h2>
                    <p class="points">Total: 20 points (2 points each)</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q24</span>
                    </div>
                    <p>The three aspects of Islamic Economics are: Ideological, <input type="text" class="fill-blank" id="q24-1">, and <input type="text" class="fill-blank" id="q24-2">.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q25</span>
                    </div>
                    <p>Zakat was decided in the <input type="text" class="fill-blank" id="q25"> year of Hijra, after fasting the month of Ramadan.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q26</span>
                    </div>
                    <p><input type="text" class="fill-blank" id="q26"> is the portion of income that is not spent; it is the portion remaining after consumption.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q27</span>
                    </div>
                    <p>The state budget represents the government's <input type="text" class="fill-blank" id="q27"> activity, obtaining resources and spending them to fulfill public needs.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q28</span>
                    </div>
                    <p>In capitalism, the person is considered the sole <input type="text" class="fill-blank" id="q28"> of the money he earns.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q29</span>
                    </div>
                    <p><input type="text" class="fill-blank" id="q29"> is a yearly tax levied on non-Muslim subjects living under Islamic law in exchange for protection.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q30</span>
                    </div>
                    <p>The three rules of public expenditure in Islam are: Beneficial Use, Economic Use, and <input type="text" class="fill-blank" id="q30">.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q31</span>
                    </div>
                    <p>Consumer goods are divided into <input type="text" class="fill-blank" id="q31-1"> consumer goods and <input type="text" class="fill-blank" id="q31-2"> consumer goods.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q32</span>
                    </div>
                    <p><input type="text" class="fill-blank" id="q32"> is the creation of new tangible capital, represented by productive capacity.</p>
                </div>
                
                <div class="question">
                    <div class="question-header">
                        <span class="question-number">Q33</span>
                    </div>
                    <p>Waqf is an <input type="text" class="fill-blank" id="q33"> charitable endowment under Islamic law with no intention of reclamation.</p>
                </div>
            </div>
        </div>
        
        <div class="submit-section">
            <button class="submit-btn" onclick="gradeExam()">Submit Exam</button>
        </div>
        
        <div class="results" id="results">
            <!-- Results will be populated by JavaScript -->
        </div>
    </div>

    <script>
        // Answer key with keywords for grading
        const answerKey = {
            // Section 1: Define Terms (keyword-based)
            q1: {
                keywords: ['knowledge', 'practical', 'religious', 'legislation', 'earning', 'spending', 'investing', 'money', 'shariah', 'islamic law'],
                minKeywords: 4,
                points: 4
            },
            q2: {
                keywords: ['zakat', 'allocated', 'amount', 'wealth', 'certain', 'pillar', 'islam', 'obligation', 'religious', 'purification', '2.5', 'poor', 'needy'],
                minKeywords: 5,
                points: 4
            },
            q3: {
                keywords: ['ability', 'power', 'good', 'service', 'satisfy', 'need', 'human'],
                minKeywords: 3,
                points: 4
            },
            q4: {
                keywords: ['tangible', 'economic', 'product', 'physical', 'beneficial', 'rare', 'tradable', 'permissible', 'halal', 'conditions'],
                minKeywords: 5,
                points: 4
            },
            q5: {
                keywords: ['tax', 'yearly', 'non-muslim', 'dhimmi', 'protection', 'exemption', 'military', 'adult', 'males', 'jews', 'christians'],
                minKeywords: 4,
                points: 4
            },
            
            // Section 2: Lists
            q6: {
                keywords: ['dual property', 'restricted economic liberty', 'social solidarity', 'balance', 'individual', 'community', 'freedom', 'regulations'],
                items: 3,
                points: 5
            },
            q7: {
                keywords: ['imbalance', 'wealth distribution', 'crises', 'unemployment', 'monopoly', 'merchandise', 'absolute freedom', 'earning', 'expenditure'],
                items: 4,
                points: 5
            },
            q8: {
                keywords: ['life', 'knowledge', 'wealth', 'body', 'time', 'earned', 'spent', 'consumed', 'disposed'],
                items: 5,
                points: 5
            },
            
            // Section 3: True/False
            q9: { answer: 'false', points: 3 }, // Third pillar
            q10: { answer: 'true', points: 3 },
            q11: { answer: 'false', points: 3 }, // Capitalism focuses on individual
            q12: { answer: 'false', points: 3 }, // Wealth does not include services
            q13: { answer: 'true', points: 3 },
            
            // Section 4: MCQ
            q14: { answer: 'b', points: 3 }, // 2.5%
            q15: { answer: 'd', points: 3 }, // Absolute freedom is NOT Islamic
            q16: { answer: 'd', points: 3 }, // 8 categories
            q17: { answer: 'b', points: 3 }, // Socialism
            q18: { answer: 'b', points: 3 }, // Money without fighting
            q19: { answer: 'b', points: 3 }, // Abu Bakr
            q20: { answer: 'c', points: 3 }, // One-fifth
            q21: { answer: 'c', points: 3 }, // Fighting ownership instinct
            q22: { answer: 'a', points: 3 }, // Qasd
            q23: { answer: 'c', points: 3 }, // Must be expensive is NOT a condition
            
            // Section 5: Fill in the Blanks
            q24: {
                answers: [
                    { keywords: ['theoretical', 'analytical'], points: 1 },
                    { keywords: ['applied', 'policy', 'economic policy'], points: 1 }
                ]
            },
            q25: { keywords: ['second', '2'], points: 2 },
            q26: { keywords: ['saving', 'savings'], points: 2 },
            q27: { keywords: ['financial', 'economic'], points: 2 },
            q28: { keywords: ['owner', 'ownership'], points: 2 },
            q29: { keywords: ['jizya', 'jizyah'], points: 2 },
            q30: { keywords: ['authorization', 'approval', 'authority'], points: 2 },
            q31: {
                answers: [
                    { keywords: ['durable', 'multiple'], points: 1 },
                    { keywords: ['single', 'single-use', 'one-time'], points: 1 }
                ]
            },
            q32: { keywords: ['investment', 'investing'], points: 2 },
            q33: { keywords: ['inalienable', 'permanent', 'perpetual'], points: 2 }
        };

        function normalizeText(text) {
            return text.toLowerCase().trim().replace(/[^\w\s]/g, '');
        }

        function checkKeywords(answer, keywords, minRequired = 1) {
            const normalizedAnswer = normalizeText(answer);
            let foundKeywords = 0;
            
            keywords.forEach(keyword => {
                if (normalizedAnswer.includes(normalizeText(keyword))) {
                    foundKeywords++;
                }
            });
            
            return foundKeywords >= minRequired;
        }

        function gradeTextAnswer(questionId, answer, answerData) {
            const normalizedAnswer = normalizeText(answer);
            
            if (normalizedAnswer.length < 10) {
                return { score: 0, feedback: 'Answer too short. Please provide more detail.' };
            }
            
            const keywordsFound = answerData.keywords.filter(keyword => 
                normalizedAnswer.includes(normalizeText(keyword))
            ).length;
            
            const percentage = keywordsFound / answerData.minKeywords;
            
            if (percentage >= 1) {
                return { 
                    score: answerData.points, 
                    feedback: `Excellent! Found ${keywordsFound} key concepts.` 
                };
            } else if (percentage >= 0.7) {
                const score = Math.round(answerData.points * 0.8);
                return { 
                    score: score, 
                    feedback: `Good answer. Found ${keywordsFound} out of ${answerData.minKeywords} required concepts. Could include: ${answerData.keywords.slice(0, 3).join(', ')}.` 
                };
            } else if (percentage >= 0.4) {
                const score = Math.round(answerData.points * 0.5);
                return { 
                    score: score, 
                    feedback: `Partial answer. Found only ${keywordsFound} key concepts. Should mention: ${answerData.keywords.slice(0, 4).join(', ')}.` 
                };
            } else {
                return { 
                    score: 0, 
                    feedback: `Insufficient answer. Key concepts missing: ${answerData.keywords.slice(0, 5).join(', ')}.` 
                };
            }
        }

        function gradeListAnswer(questionId, answerData) {
            const inputs = [];
            for (let i = 1; i <= answerData.items; i++) {
                const value = document.getElementById(`${questionId}-${i}`).value;
                inputs.push(value);
            }
            
            let correctItems = 0;
            inputs.forEach(input => {
                if (checkKeywords(input, answerData.keywords, 1)) {
                    correctItems++;
                }
            });
            
            const percentage = correctItems / answerData.items;
            const score = Math.round(answerData.points * percentage);
            
            return {
                score: score,
                feedback: `${correctItems} out of ${answerData.items} items correct.`,
                correctItems: correctItems
            };
        }

        function gradeFillBlank(questionId, answerData) {
            if (answerData.answers) {
                // Multiple blanks
                let totalScore = 0;
                answerData.answers.forEach((blank, index) => {
                    const value = document.getElementById(`${questionId}-${index + 1}`).value;
                    if (checkKeywords(value, blank.keywords)) {
                        totalScore += blank.points;
                    }
                });
                return { score: totalScore, feedback: '' };
            } else {
                // Single blank
                const value = document.getElementById(questionId).value;
                if (checkKeywords(value, answerData.keywords)) {
                    return { score: answerData.points, feedback: 'Correct!' };
                } else {
                    return { score: 0, feedback: `Correct answer should include: ${answerData.keywords.join(' or ')}.` };
                }
            }
        }

        function gradeExam() {
            const studentName = document.getElementById('studentName').value;
            const studentID = document.getElementById('studentID').value;
            
            if (!studentName || !studentID) {
                alert('Please fill in your name and student ID before submitting.');
                return;
            }
            
            let totalScore = 0;
            const maxScore = 100;
            let results = {
                section1: [],
                section2: [],
                section3: [],
                section4: [],
                section5: []
            };
            
            // Grade Section 1: Text Answers
            for (let i = 1; i <= 5; i++) {
                const questionId = `q${i}`;
                const answer = document.getElementById(questionId).value;
                const result = gradeTextAnswer(questionId, answer, answerKey[questionId]);
                totalScore += result.score;
                results.section1.push({
                    number: i,
                    answer: answer,
                    score: result.score,
                    maxScore: answerKey[questionId].points,
                    feedback: result.feedback
                });
            }
            
            // Grade Section 2: Lists
            [6, 7, 8].forEach((num, idx) => {
                const questionId = `q${num}`;
                const result = gradeListAnswer(questionId, answerKey[questionId]);
                totalScore += result.score;
                results.section2.push({
                    number: num,
                    score: result.score,
                    maxScore: answerKey[questionId].points,
                    feedback: result.feedback,
                    correctItems: result.correctItems
                });
            });
            
            // Grade Section 3: True/False
            for (let i = 9; i <= 13; i++) {
                const questionId = `q${i}`;
                const selected = document.querySelector(`input[name="${questionId}"]:checked`);
                const isCorrect = selected && selected.value === answerKey[questionId].answer;
                totalScore += isCorrect ? answerKey[questionId].points : 0;
                results.section3.push({
                    number: i,
                    selected: selected ? selected.value : 'Not answered',
                    correct: answerKey[questionId].answer,
                    isCorrect: isCorrect,
                    score: isCorrect ? answerKey[questionId].points : 0,
                    maxScore: answerKey[questionId].points
                });
            }
            
            // Grade Section 4: MCQ
            for (let i = 14; i <= 23; i++) {
                const questionId = `q${i}`;
                const selected = document.querySelector(`input[name="${questionId}"]:checked`);
                const isCorrect = selected && selected.value === answerKey[questionId].answer;
                totalScore += isCorrect ? answerKey[questionId].points : 0;
                results.section4.push({
                    number: i,
                    selected: selected ? selected.value.toUpperCase() : 'Not answered',
                    correct: answerKey[questionId].answer.toUpperCase(),
                    isCorrect: isCorrect,
                    score: isCorrect ? answerKey[questionId].points : 0,
                    maxScore: answerKey[questionId].points
                });
            }
            
            // Grade Section 5: Fill in the Blanks
            [24, 25, 26, 27, 28, 29, 30, 31, 32, 33].forEach(num => {
                const questionId = `q${num}`;
                const result = gradeFillBlank(questionId, answerKey[questionId]);
                totalScore += result.score;
                const maxPoints = answerKey[questionId].answers 
                    ? answerKey[questionId].answers.reduce((sum, a) => sum + a.points, 0)
                    : answerKey[questionId].points;
                results.section5.push({
                    number: num,
                    score: result.score,
                    maxScore: maxPoints,
                    feedback: result.feedback
                });
            });
            
            // Calculate grade
            const percentage = (totalScore / maxScore) * 100;
            let gradeLetter = '';
            if (percentage >= 90) gradeLetter = 'A';
            else if (percentage >= 80) gradeLetter = 'B';
            else if (percentage >= 70) gradeLetter = 'C';
            else if (percentage >= 60) gradeLetter = 'D';
            else gradeLetter = 'F';
            
            displayResults(studentName, studentID, totalScore, maxScore, percentage, gradeLetter, results);
        }

        function displayResults(name, id, score, maxScore, percentage, grade, results) {
            const resultsDiv = document.getElementById('results');
            
            let html = `
                <div class="results-header">
                    <h2>Examination Results</h2>
                    <p><strong>Student:</strong> ${name}</p>
                    <p><strong>ID:</strong> ${id}</p>
                    <div class="score-display">${score} / ${maxScore}</div>
                    <p style="font-size: 1.2em;">${percentage.toFixed(1)}%</p>
                    <div class="grade-letter">Grade: ${grade}</div>
                </div>
            `;
            
            // Section 1 Results
            html += `
                <div class="section-results">
                    <h3>Section 1: Define Terms (${results.section1.reduce((sum, r) => sum + r.score, 0)}/20)</h3>
            `;
            results.section1.forEach(r => {
                const status = r.score === r.maxScore ? 'correct' : (r.score > 0 ? 'partial' : 'incorrect');
                const icon = r.score === r.maxScore ? '✓' : (r.score > 0 ? '◐' : '✗');
                html += `
                    <div class="question-result ${status}">
                        <div><span class="result-icon">${icon}</span><strong>Q${r.number}:</strong> ${r.score}/${r.maxScore} points</div>
                        ${r.feedback ? `<div class="feedback">${r.feedback}</div>` : ''}
                    </div>
                `;
            });
            html += `</div>`;
            
            // Section 2 Results
            html += `
                <div class="section-results">
                    <h3>Section 2: Lists (${results.section2.reduce((sum, r) => sum + r.score, 0)}/15)</h3>
            `;
            results.section2.forEach(r => {
                const status = r.score === r.maxScore ? 'correct' : (r.score > 0 ? 'partial' : 'incorrect');
                const icon = r.score === r.maxScore ? '✓' : (r.score > 0 ? '◐' : '✗');
                html += `
                    <div class="question-result ${status}">
                        <div><span class="result-icon">${icon}</span><strong>Q${r.number}:</strong> ${r.score}/${r.maxScore} points</div>
                        <div class="feedback">${r.feedback}</div>
                    </div>
                `;
            });
            html += `</div>`;
            
            // Section 3 Results
            html += `
                <div class="section-results">
                    <h3>Section 3: True/False (${results.section3.reduce((sum, r) => sum + r.score, 0)}/15)</h3>
            `;
            results.section3.forEach(r => {
                const status = r.isCorrect ? 'correct' : 'incorrect';
                const icon = r.isCorrect ? '✓' : '✗';
                html += `
                    <div class="question-result ${status}">
                        <div><span class="result-icon">${icon}</span><strong>Q${r.number}:</strong> ${r.score}/${r.maxScore} points</div>
                        <div class="your-answer">Your answer: ${r.selected}</div>
                        ${!r.isCorrect ? `<div class="correct-answer">Correct answer: ${r.correct}</div>` : ''}
                    </div>
                `;
            });
            html += `</div>`;
            
            // Section 4 Results
            html += `
                <div class="section-results">
                    <h3>Section 4: Multiple Choice (${results.section4.reduce((sum, r) => sum + r.score, 0)}/30)</h3>
            `;
            results.section4.forEach(r => {
                const status = r.isCorrect ? 'correct' : 'incorrect';
                const icon = r.isCorrect ? '✓' : '✗';
                html += `
                    <div class="question-result ${status}">
                        <div><span class="result-icon">${icon}</span><strong>Q${r.number}:</strong> ${r.score}/${r.maxScore} points</div>
                        <div class="your-answer">Your answer: ${r.selected}</div>
                        ${!r.isCorrect ? `<div class="correct-answer">Correct answer: ${r.correct}</div>` : ''}
                    </div>
                `;
            });
            html += `</div>`;
            
            // Section 5 Results
            html += `
                <div class="section-results">
                    <h3>Section 5: Fill in the Blanks (${results.section5.reduce((sum, r) => sum + r.score, 0)}/20)</h3>
            `;
            results.section5.forEach(r => {
                const status = r.score === r.maxScore ? 'correct' : (r.score > 0 ? 'partial' : 'incorrect');
                const icon = r.score === r.maxScore ? '✓' : (r.score > 0 ? '◐' : '✗');
                html += `
                    <div class="question-result ${status}">
                        <div><span class="result-icon">${icon}</span><strong>Q${r.number}:</strong> ${r.score}/${r.maxScore} points</div>
                        ${r.feedback ? `<div class="feedback">${r.feedback}</div>` : ''}
                    </div>
                `;
            });
            html += `</div>`;
            
            html += `
                <div style="text-align: center; padding: 20px;">
                    <button class="retry-btn" onclick="location.reload()">Take Exam Again</button>
                </div>
            `;
            
            resultsDiv.innerHTML = html;
            resultsDiv.classList.add('show');
            
            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>