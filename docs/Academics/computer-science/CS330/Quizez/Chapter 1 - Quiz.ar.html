<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1: Introduction to Operating Systems - Interactive Exam</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .exam-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .exam-header {
            background: linear-gradient(135deg, #5e72e4 0%, #825ee4 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .exam-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .exam-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .info-item {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 10px;
        }

        .timer {
            font-size: 1.2em;
            font-weight: bold;
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: inline-block;
        }

        .exam-body {
            padding: 40px;
        }

        .question-section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #5e72e4;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            background: #5e72e4;
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: bold;
        }

        .question-points {
            color: #5e72e4;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        /* Multiple Choice Styles */
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: #f0f0f0;
            border-color: #5e72e4;
        }

        .option input[type="radio"] {
            margin-right: 10px;
        }

        .option.selected {
            background: #e8f4fd;
            border-color: #5e72e4;
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        /* True/False Styles */
        .tf-options {
            display: flex;
            gap: 20px;
        }

        .tf-option {
            flex: 1;
            padding: 20px;
            text-align: center;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tf-option:hover {
            background: #f0f0f0;
            border-color: #5e72e4;
        }

        .tf-option.selected {
            background: #e8f4fd;
            border-color: #5e72e4;
        }

        /* Fill in the Blank Styles */
        .fill-blank {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .blank-item {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .blank-input {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            min-width: 200px;
        }

        /* Short Answer Styles */
        .short-answer, .essay {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            resize: vertical;
        }

        .short-answer {
            min-height: 100px;
        }

        .essay {
            min-height: 200px;
        }

        /* Matching Styles */
        .matching-container {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .matching-column {
            flex: 1;
            min-width: 250px;
        }

        .matching-item {
            padding: 12px;
            margin-bottom: 10px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
        }

        .matching-select {
            width: 100%;
            padding: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            margin-top: 10px;
        }

        /* Feedback Styles */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .feedback.partial {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }

        .explanation {
            margin-top: 10px;
            padding: 10px;
            background: rgba(0,0,0,0.05);
            border-radius: 8px;
        }

        .mock-answer {
            margin-top: 15px;
            padding: 15px;
            background: #e8f4fd;
            border-left: 4px solid #5e72e4;
            border-radius: 8px;
            display: none;
        }

        .mock-answer.show {
            display: block;
        }

        .mock-answer h4 {
            color: #5e72e4;
            margin-bottom: 10px;
        }

        /* Control Buttons */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 40px;
            background: #f8f9fa;
            flex-wrap: wrap;
            gap: 20px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #5e72e4;
            color: white;
        }

        .btn-primary:hover {
            background: #4c63d2;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        /* Score Display */
        .score-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: none;
            z-index: 1000;
        }

        .score-display.show {
            display: block;
        }

        .score-display h3 {
            color: #5e72e4;
            margin-bottom: 10px;
        }

        .score-details {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .grade {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            margin-top: 10px;
            padding: 10px;
            border-radius: 8px;
        }

        .grade.A { background: #d4edda; color: #155724; }
        .grade.B { background: #d1ecf1; color: #0c5460; }
        .grade.C { background: #fff3cd; color: #856404; }
        .grade.D { background: #f8d7da; color: #721c24; }
        .grade.F { background: #f5c6cb; color: #721c24; }

        /* Responsive Design */
        @media (max-width: 768px) {
            .exam-header h1 {
                font-size: 1.8em;
            }

            .exam-body {
                padding: 20px;
            }

            .matching-container {
                flex-direction: column;
            }

            .score-display {
                position: static;
                margin: 20px auto;
            }
        }
    </style>
  <script src="/javascripts/standalone-theme.js"></script>
</head>
<body>
    <div class="exam-container">
        <div class="exam-header">
            <h1>CS330: Operating Systems</h1>
            <p>Chapter 1 - Introduction to Operating Systems</p>
            <div class="exam-info">
                <div class="info-item">Total Points: 100</div>
                <div class="info-item">Questions: 20</div>
                <div class="info-item">Time: 60 minutes</div>
            </div>
            <div class="timer" id="timer">60:00</div>
        </div>

        <div class="exam-body">
            <!-- Question 1: Multiple Choice -->
            <div class="question-section" data-question="1" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 1</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    Which of the following is NOT a primary goal of an operating system?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q1" value="a">
                        <span>Managing computer hardware resources</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="b">
                        <span>Providing a user interface</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="c">
                        <span>Compiling source code into machine code</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="d">
                        <span>Ensuring fair resource allocation</span>
                    </label>
                </div>
                <div class="feedback" data-correct="c">
                    <div class="explanation">
                        <strong>Explanation:</strong> Compiling source code is the job of a compiler, not the operating system. The OS manages hardware resources, provides user interfaces, and ensures fair resource allocation among processes.
                    </div>
                </div>
            </div>

            <!-- Question 2: True/False -->
            <div class="question-section" data-question="2" data-type="true-false">
                <div class="question-header">
                    <span class="question-number">Question 2</span>
                    <span class="question-points">3 points</span>
                </div>
                <div class="question-text">
                    True or False: The kernel is the core component of an operating system that manages system resources and provides basic services.
                </div>
                <div class="tf-options">
                    <div class="tf-option" data-value="true">
                        <input type="radio" name="q2" value="true" id="q2-true">
                        <label for="q2-true">TRUE</label>
                    </div>
                    <div class="tf-option" data-value="false">
                        <input type="radio" name="q2" value="false" id="q2-false">
                        <label for="q2-false">FALSE</label>
                    </div>
                </div>
                <div class="feedback" data-correct="true">
                    <div class="explanation">
                        <strong>Explanation:</strong> This statement is TRUE. The kernel is indeed the core component that manages CPU scheduling, memory management, file systems, and other essential system resources.
                    </div>
                </div>
            </div>

            <!-- Question 3: Multiple Choice -->
            <div class="question-section" data-question="3" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 3</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    In a multiprogramming system, what is the primary reason for keeping multiple programs in memory simultaneously?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q3" value="a">
                        <span>To increase memory usage</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="b">
                        <span>To maximize CPU utilization</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="c">
                        <span>To reduce power consumption</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="d">
                        <span>To minimize disk access</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> Multiprogramming keeps multiple programs in memory to maximize CPU utilization. When one program is waiting for I/O, the CPU can switch to execute another program, reducing idle time.
                    </div>
                </div>
            </div>

            <!-- Question 4: Fill in the Blank -->
            <div class="question-section" data-question="4" data-type="fill-blank">
                <div class="question-header">
                    <span class="question-number">Question 4</span>
                    <span class="question-points">8 points (2 each)</span>
                </div>
                <div class="question-text">
                    Fill in the blanks with the appropriate terms:
                </div>
                <div class="fill-blank">
                    <div class="blank-item">
                        1. The __________ is responsible for loading the operating system into memory during boot.
                        <input type="text" class="blank-input" data-answer="bootstrap program|bootstrap loader|bootloader" placeholder="Your answer">
                    </div>
                    <div class="blank-item">
                        2. A __________ occurs when a program needs immediate attention from the CPU.
                        <input type="text" class="blank-input" data-answer="interrupt|hardware interrupt" placeholder="Your answer">
                    </div>
                    <div class="blank-item">
                        3. The __________ mode has unrestricted access to all system resources.
                        <input type="text" class="blank-input" data-answer="kernel|kernel mode|supervisor|supervisor mode" placeholder="Your answer">
                    </div>
                    <div class="blank-item">
                        4. __________ is a technique where the CPU executes multiple processes concurrently by rapidly switching between them.
                        <input type="text" class="blank-input" data-answer="time sharing|multitasking|time-sharing" placeholder="Your answer">
                    </div>
                </div>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Explanation:</strong> 
                        1. Bootstrap program/loader initializes the system and loads the OS.
                        2. Interrupts signal events requiring immediate CPU attention.
                        3. Kernel/supervisor mode allows full system access.
                        4. Time-sharing enables concurrent process execution through rapid switching.
                    </div>
                </div>
            </div>

            <!-- Question 5: Short Answer -->
            <div class="question-section" data-question="5" data-type="short-answer">
                <div class="question-header">
                    <span class="question-number">Question 5</span>
                    <span class="question-points">10 points</span>
                </div>
                <div class="question-text">
                    Explain the difference between batch systems and interactive systems. Provide at least two characteristics of each.
                </div>
                <textarea class="short-answer" placeholder="Type your answer here..."></textarea>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Grading Criteria:</strong> 
                        - Clear definition of each system type (4 points)
                        - At least 2 characteristics for each (6 points)
                    </div>
                </div>
                <div class="mock-answer">
                    <h4>Model Answer:</h4>
                    <p><strong>Batch Systems:</strong><br>
                    - Jobs are collected and processed in groups (batches) without user interaction
                    - No direct user interaction during job execution
                    - Characteristics:
                      1. High throughput - processes many jobs efficiently
                      2. Job scheduling is done automatically by the system
                      3. Suitable for repetitive, similar tasks
                    </p>
                    <p><strong>Interactive Systems:</strong><br>
                    - Users interact directly with the system in real-time
                    - Immediate feedback to user commands
                    - Characteristics:
                      1. Low response time - quick feedback to users
                      2. Supports multiple users simultaneously (time-sharing)
                      3. Suitable for tasks requiring user input/decisions
                    </p>
                </div>
            </div>

            <!-- Question 6: Multiple Choice -->
            <div class="question-section" data-question="6" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 6</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    Which type of storage is the fastest but also the most expensive per byte?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q6" value="a">
                        <span>Magnetic disk</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="b">
                        <span>CPU registers</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="c">
                        <span>Main memory (RAM)</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="d">
                        <span>Solid-state drives</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> CPU registers are the fastest storage in the memory hierarchy but also the most expensive per byte. They provide immediate access to data for the CPU but are limited in capacity.
                    </div>
                </div>
            </div>

            <!-- Question 7: True/False -->
            <div class="question-section" data-question="7" data-type="true-false">
                <div class="question-header">
                    <span class="question-number">Question 7</span>
                    <span class="question-points">3 points</span>
                </div>
                <div class="question-text">
                    True or False: In a time-sharing system, each user has the illusion of having the entire computer to themselves.
                </div>
                <div class="tf-options">
                    <div class="tf-option" data-value="true">
                        <input type="radio" name="q7" value="true" id="q7-true">
                        <label for="q7-true">TRUE</label>
                    </div>
                    <div class="tf-option" data-value="false">
                        <input type="radio" name="q7" value="false" id="q7-false">
                        <label for="q7-false">FALSE</label>
                    </div>
                </div>
                <div class="feedback" data-correct="true">
                    <div class="explanation">
                        <strong>Explanation:</strong> TRUE. Time-sharing systems switch between users so quickly that each user feels they have exclusive access to the system, even though resources are actually being shared.
                    </div>
                </div>
            </div>

            <!-- Question 8: Matching -->
            <div class="question-section" data-question="8" data-type="matching">
                <div class="question-header">
                    <span class="question-number">Question 8</span>
                    <span class="question-points">10 points (2 each)</span>
                </div>
                <div class="question-text">
                    Match each operating system component with its primary function:
                </div>
                <div class="matching-container">
                    <div class="matching-column">
                        <h4>Components:</h4>
                        <div class="matching-item">
                            1. Process Manager
                            <select class="matching-select" data-correct="b">
                                <option value="">Select...</option>
                                <option value="a">Manages data storage and retrieval</option>
                                <option value="b">Creates, schedules, and terminates processes</option>
                                <option value="c">Allocates and deallocates memory space</option>
                                <option value="d">Controls I/O devices</option>
                                <option value="e">Provides user authentication</option>
                            </select>
                        </div>
                        <div class="matching-item">
                            2. Memory Manager
                            <select class="matching-select" data-correct="c">
                                <option value="">Select...</option>
                                <option value="a">Manages data storage and retrieval</option>
                                <option value="b">Creates, schedules, and terminates processes</option>
                                <option value="c">Allocates and deallocates memory space</option>
                                <option value="d">Controls I/O devices</option>
                                <option value="e">Provides user authentication</option>
                            </select>
                        </div>
                        <div class="matching-item">
                            3. File System Manager
                            <select class="matching-select" data-correct="a">
                                <option value="">Select...</option>
                                <option value="a">Manages data storage and retrieval</option>
                                <option value="b">Creates, schedules, and terminates processes</option>
                                <option value="c">Allocates and deallocates memory space</option>
                                <option value="d">Controls I/O devices</option>
                                <option value="e">Provides user authentication</option>
                            </select>
                        </div>
                        <div class="matching-item">
                            4. Device Manager
                            <select class="matching-select" data-correct="d">
                                <option value="">Select...</option>
                                <option value="a">Manages data storage and retrieval</option>
                                <option value="b">Creates, schedules, and terminates processes</option>
                                <option value="c">Allocates and deallocates memory space</option>
                                <option value="d">Controls I/O devices</option>
                                <option value="e">Provides user authentication</option>
                            </select>
                        </div>
                        <div class="matching-item">
                            5. Security Manager
                            <select class="matching-select" data-correct="e">
                                <option value="">Select...</option>
                                <option value="a">Manages data storage and retrieval</option>
                                <option value="b">Creates, schedules, and terminates processes</option>
                                <option value="c">Allocates and deallocates memory space</option>
                                <option value="d">Controls I/O devices</option>
                                <option value="e">Provides user authentication</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Explanation:</strong> Each OS component has specific responsibilities: Process Manager handles process lifecycle, Memory Manager controls RAM allocation, File System manages persistent storage, Device Manager controls hardware I/O, and Security Manager handles access control.
                    </div>
                </div>
            </div>

            <!-- Question 9: Multiple Choice -->
            <div class="question-section" data-question="9" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 9</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    What is the primary purpose of system calls?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q9" value="a">
                        <span>To call functions within the same program</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="b">
                        <span>To provide an interface between user programs and the operating system</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="c">
                        <span>To debug application programs</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="d">
                        <span>To optimize code execution speed</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> System calls provide the interface between user programs and the OS kernel, allowing programs to request services like file operations, process control, and memory management from the operating system.
                    </div>
                </div>
            </div>

            <!-- Question 10: Essay -->
            <div class="question-section" data-question="10" data-type="essay">
                <div class="question-header">
                    <span class="question-number">Question 10</span>
                    <span class="question-points">15 points</span>
                </div>
                <div class="question-text">
                    Describe the evolution of operating systems from simple batch systems to modern multi-user, multitasking systems. Include at least three major milestones in this evolution and explain how each improved upon the previous generation.
                </div>
                <textarea class="essay" placeholder="Type your answer here..."></textarea>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Grading Criteria:</strong>
                        - Historical accuracy and progression (5 points)
                        - Description of at least 3 milestones (6 points)
                        - Explanation of improvements (4 points)
                    </div>
                </div>
                <div class="mock-answer">
                    <h4>Model Answer:</h4>
                    <p><strong>Evolution of Operating Systems:</strong></p>
                    
                    <p><strong>1. Simple Batch Systems (1950s):</strong><br>
                    - First generation of OS that automated job sequencing
                    - Jobs were collected in batches and processed sequentially
                    - Improvement: Eliminated manual intervention between jobs, increased efficiency</p>
                    
                    <p><strong>2. Multiprogrammed Batch Systems (1960s):</strong><br>
                    - Multiple jobs kept in memory simultaneously
                    - CPU could switch to another job when one was waiting for I/O
                    - Improvement: Better CPU utilization, reduced idle time, increased throughput</p>
                    
                    <p><strong>3. Time-Sharing Systems (1960s-1970s):</strong><br>
                    - Multiple users could interact with computer simultaneously
                    - CPU time divided among users with rapid switching
                    - Improvement: Interactive computing, better response time, multi-user support</p>
                    
                    <p><strong>4. Personal Computer OS (1980s):</strong><br>
                    - Designed for single users with user-friendly interfaces
                    - Introduction of GUIs (Graphical User Interfaces)
                    - Improvement: Accessibility to non-technical users, better usability</p>
                    
                    <p><strong>5. Modern Multitasking/Multi-user Systems (1990s-present):</strong><br>
                    - Advanced scheduling algorithms, virtual memory, networking
                    - Support for multicore processors and distributed computing
                    - Improvement: Enhanced performance, security, networking capabilities, and resource management</p>
                </div>
            </div>

            <!-- Question 11: True/False -->
            <div class="question-section" data-question="11" data-type="true-false">
                <div class="question-header">
                    <span class="question-number">Question 11</span>
                    <span class="question-points">3 points</span>
                </div>
                <div class="question-text">
                    True or False: User mode has restricted access to system resources and cannot execute privileged instructions.
                </div>
                <div class="tf-options">
                    <div class="tf-option" data-value="true">
                        <input type="radio" name="q11" value="true" id="q11-true">
                        <label for="q11-true">TRUE</label>
                    </div>
                    <div class="tf-option" data-value="false">
                        <input type="radio" name="q11" value="false" id="q11-false">
                        <label for="q11-false">FALSE</label>
                    </div>
                </div>
                <div class="feedback" data-correct="true">
                    <div class="explanation">
                        <strong>Explanation:</strong> TRUE. User mode is designed to protect the system by restricting access to critical resources and privileged instructions. Only kernel mode can execute privileged operations.
                    </div>
                </div>
            </div>

            <!-- Question 12: Multiple Choice -->
            <div class="question-section" data-question="12" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 12</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    Which of the following best describes the concept of spooling?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q12" value="a">
                        <span>Direct communication between CPU and I/O devices</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q12" value="b">
                        <span>Simultaneous peripheral operations online using buffers</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q12" value="c">
                        <span>A method for compressing data in memory</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q12" value="d">
                        <span>A technique for encrypting system files</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> Spooling (Simultaneous Peripheral Operations On-Line) uses buffers to hold data for devices like printers, allowing the CPU to continue processing while I/O operations occur in the background.
                    </div>
                </div>
            </div>

            <!-- Question 13: Short Answer -->
            <div class="question-section" data-question="13" data-type="short-answer">
                <div class="question-header">
                    <span class="question-number">Question 13</span>
                    <span class="question-points">10 points</span>
                </div>
                <div class="question-text">
                    List and briefly explain four key services provided by an operating system to user programs.
                </div>
                <textarea class="short-answer" placeholder="Type your answer here..."></textarea>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Grading Criteria:</strong>
                        - Listing 4 services (4 points)
                        - Brief explanation of each (6 points)
                    </div>
                </div>
                <div class="mock-answer">
                    <h4>Model Answer:</h4>
                    <p>1. <strong>Program Execution:</strong> The OS loads programs into memory, sets up execution environment, and manages program termination.</p>
                    
                    <p>2. <strong>I/O Operations:</strong> Provides standardized interfaces for input/output operations, managing communication between programs and devices.</p>
                    
                    <p>3. <strong>File System Manipulation:</strong> Offers services to create, read, write, delete files and directories, managing persistent storage.</p>
                    
                    <p>4. <strong>Communication Services:</strong> Enables inter-process communication through shared memory, message passing, or network protocols.</p>
                    
                    <p>Additional acceptable answers: Error Detection, Resource Allocation, Protection and Security, Accounting</p>
                </div>
            </div>

            <!-- Question 14: Fill in the Blank -->
            <div class="question-section" data-question="14" data-type="fill-blank">
                <div class="question-header">
                    <span class="question-number">Question 14</span>
                    <span class="question-points">6 points (3 each)</span>
                </div>
                <div class="question-text">
                    Complete the following statements:
                </div>
                <div class="fill-blank">
                    <div class="blank-item">
                        1. The two main types of user interfaces provided by operating systems are __________ and __________.
                        <input type="text" class="blank-input" data-answer="CLI|command line interface|command-line interface" placeholder="First answer">
                        <input type="text" class="blank-input" data-answer="GUI|graphical user interface" placeholder="Second answer">
                    </div>
                    <div class="blank-item">
                        2. __________ protection prevents one process from interfering with another process's memory space.
                        <input type="text" class="blank-input" data-answer="memory|memory protection" placeholder="Your answer">
                    </div>
                </div>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Explanation:</strong> 
                        1. CLI (Command Line Interface) and GUI (Graphical User Interface) are the two main types of user interfaces.
                        2. Memory protection is crucial for system stability and security.
                    </div>
                </div>
            </div>

            <!-- Question 15: Multiple Choice -->
            <div class="question-section" data-question="15" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 15</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    What is the main advantage of using virtual machines?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q15" value="a">
                        <span>They are faster than physical machines</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="b">
                        <span>They provide complete isolation between different OS environments</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="c">
                        <span>They require less memory than regular programs</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="d">
                        <span>They eliminate the need for device drivers</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> Virtual machines provide complete isolation between different OS environments, allowing multiple operating systems to run on the same physical hardware safely and independently.
                    </div>
                </div>
            </div>

            <!-- Question 16: True/False -->
            <div class="question-section" data-question="16" data-type="true-false">
                <div class="question-header">
                    <span class="question-number">Question 16</span>
                    <span class="question-points">3 points</span>
                </div>
                <div class="question-text">
                    True or False: Cache memory is used to speed up access to frequently used data by storing copies closer to the CPU.
                </div>
                <div class="tf-options">
                    <div class="tf-option" data-value="true">
                        <input type="radio" name="q16" value="true" id="q16-true">
                        <label for="q16-true">TRUE</label>
                    </div>
                    <div class="tf-option" data-value="false">
                        <input type="radio" name="q16" value="false" id="q16-false">
                        <label for="q16-false">FALSE</label>
                    </div>
                </div>
                <div class="feedback" data-correct="true">
                    <div class="explanation">
                        <strong>Explanation:</strong> TRUE. Cache memory is a smaller, faster memory that stores copies of frequently accessed data from main memory, reducing access time for the CPU.
                    </div>
                </div>
            </div>

            <!-- Question 17: Multiple Choice -->
            <div class="question-section" data-question="17" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 17</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    Which component is responsible for selecting the next process to run on the CPU?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q17" value="a">
                        <span>Dispatcher</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q17" value="b">
                        <span>Scheduler</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q17" value="c">
                        <span>Process Control Block</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q17" value="d">
                        <span>Memory Manager</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> The scheduler selects which process should run next based on the scheduling algorithm. The dispatcher then performs the actual context switch to give control to the selected process.
                    </div>
                </div>
            </div>

            <!-- Question 18: Short Answer -->
            <div class="question-section" data-question="18" data-type="short-answer">
                <div class="question-header">
                    <span class="question-number">Question 18</span>
                    <span class="question-points">8 points</span>
                </div>
                <div class="question-text">
                    Explain the concept of dual-mode operation in operating systems and why it is necessary for system protection.
                </div>
                <textarea class="short-answer" placeholder="Type your answer here..."></textarea>
                <div class="feedback">
                    <div class="explanation">
                        <strong>Grading Criteria:</strong>
                        - Definition of dual-mode (3 points)
                        - Explanation of user and kernel modes (3 points)
                        - Importance for protection (2 points)
                    </div>
                </div>
                <div class="mock-answer">
                    <h4>Model Answer:</h4>
                    <p><strong>Dual-mode operation</strong> refers to the OS having two distinct modes of operation:</p>
                    
                    <p><strong>1. User Mode:</strong> Where user applications run with restricted privileges. Cannot access hardware directly or execute privileged instructions.</p>
                    
                    <p><strong>2. Kernel Mode:</strong> Where the OS kernel runs with full privileges. Can execute any instruction and access all hardware resources.</p>
                    
                    <p><strong>Why it's necessary:</strong><br>
                    - Protects the OS from errant user programs that could crash the system
                    - Prevents user programs from accessing other programs' memory
                    - Ensures critical system resources are managed only by the OS
                    - Mode bit in hardware tracks current mode and triggers trap on violations</p>
                </div>
            </div>

            <!-- Question 19: Multiple Choice -->
            <div class="question-section" data-question="19" data-type="multiple-choice">
                <div class="question-header">
                    <span class="question-number">Question 19</span>
                    <span class="question-points">5 points</span>
                </div>
                <div class="question-text">
                    What is the primary difference between a program and a process?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q19" value="a">
                        <span>A program is written in high-level language, a process is in machine code</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q19" value="b">
                        <span>A program is passive (on disk), a process is active (in execution)</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q19" value="c">
                        <span>A program can only run on one CPU, a process can run on multiple CPUs</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q19" value="d">
                        <span>There is no difference, they are the same thing</span>
                    </label>
                </div>
                <div class="feedback" data-correct="b">
                    <div class="explanation">
                        <strong>Explanation:</strong> A program is a passive entity stored on disk (executable file), while a process is an active entity - a program in execution with associated resources like memory, CPU state, and open files.
                    </div>
                </div>
            </div>

            <!-- Question 20: True/False -->
            <div class="question-section" data-question="20" data-type="true-false">
                <div class="question-header">
                    <span class="question-number">Question 20</span>
                    <span class="question-points">3 points</span>
                </div>
                <div class="question-text">
                    True or False: Real-time operating systems guarantee that critical tasks will be completed within specified time constraints.
                </div>
                <div class="tf-options">
                    <div class="tf-option" data-value="true">
                        <input type="radio" name="q20" value="true" id="q20-true">
                        <label for="q20-true">TRUE</label>
                    </div>
                    <div class="tf-option" data-value="false">
                        <input type="radio" name="q20" value="false" id="q20-false">
                        <label for="q20-false">FALSE</label>
                    </div>
                </div>
                <div class="feedback" data-correct="true">
                    <div class="explanation">
                        <strong>Explanation:</strong> TRUE. Real-time operating systems are designed specifically to guarantee that time-critical tasks meet their deadlines. Hard real-time systems provide absolute guarantees, while soft real-time systems provide strong scheduling preferences.
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-secondary" onclick="showAnswers()">Show Model Answers</button>
            <button class="btn btn-primary" onclick="submitExam()">Submit Exam</button>
            <button class="btn btn-success" onclick="resetExam()">Reset Exam</button>
        </div>
    </div>

    <div class="score-display" id="scoreDisplay">
        <h3>Exam Results</h3>
        <div class="score-details">
            <div>Score: <span id="score">0</span>/100</div>
            <div>Percentage: <span id="percentage">0</span>%</div>
            <div>Questions Correct: <span id="correct">0</span>/20</div>
        </div>
        <div class="grade" id="grade">F</div>
    </div>

    <script>
        // Timer functionality
        let timeLeft = 3600; // 60 minutes in seconds
        let timerInterval;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timer').textContent = 
                    `${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                }
            }, 1000);
        }

        // Start timer when page loads
        window.addEventListener('load', startTimer);

        // Handle multiple choice and true/false selections
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function() {
                // Clear previous selections for this question
                const questionSection = this.closest('.question-section');
                questionSection.querySelectorAll('.option, .tf-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Add selected class to parent
                if (this.closest('.option')) {
                    this.closest('.option').classList.add('selected');
                } else if (this.closest('.tf-option')) {
                    this.closest('.tf-option').classList.add('selected');
                }
            });
        });

        // Grade the exam
        function gradeExam() {
            let totalScore = 0;
            let correctQuestions = 0;
            const results = [];

            // Grade each question
            document.querySelectorAll('.question-section').forEach(section => {
                const questionNum = section.dataset.question;
                const questionType = section.dataset.type;
                let questionScore = 0;
                let isCorrect = false;

                switch(questionType) {
                    case 'multiple-choice':
                        const selected = section.querySelector('input[type="radio"]:checked');
                        const correctAnswer = section.querySelector('.feedback').dataset.correct;
                        if (selected && selected.value === correctAnswer) {
                            questionScore = parseInt(section.querySelector('.question-points').textContent);
                            isCorrect = true;
                        }
                        break;

                    case 'true-false':
                        const tfSelected = section.querySelector('input[type="radio"]:checked');
                        const tfCorrect = section.querySelector('.feedback').dataset.correct;
                        if (tfSelected && tfSelected.value === tfCorrect) {
                            questionScore = parseInt(section.querySelector('.question-points').textContent);
                            isCorrect = true;
                        }
                        break;

                    case 'fill-blank':
                        let blanksCorrect = 0;
                        const blanks = section.querySelectorAll('.blank-input');
                        blanks.forEach(blank => {
                            const userAnswer = blank.value.toLowerCase().trim();
                            const correctAnswers = blank.dataset.answer.toLowerCase().split('|');
                            if (correctAnswers.some(ans => ans.trim() === userAnswer)) {
                                blanksCorrect++;
                            }
                        });
                        const pointsPerBlank = parseInt(section.querySelector('.question-points').textContent) / blanks.length;
                        questionScore = Math.round(blanksCorrect * pointsPerBlank);
                        isCorrect = blanksCorrect === blanks.length;
                        break;

                    case 'matching':
                        let matchesCorrect = 0;
                        const selects = section.querySelectorAll('.matching-select');
                        selects.forEach(select => {
                            if (select.value === select.dataset.correct) {
                                matchesCorrect++;
                            }
                        });
                        const pointsPerMatch = parseInt(section.querySelector('.question-points').textContent) / selects.length;
                        questionScore = Math.round(matchesCorrect * pointsPerMatch);
                        isCorrect = matchesCorrect === selects.length;
                        break;

                    case 'short-answer':
                    case 'essay':
                        // For demonstration, give partial credit if answer has minimum length
                        const textAnswer = section.querySelector('textarea').value;
                        if (textAnswer.length > 50) {
                            // Give partial credit based on length and keywords
                            const maxPoints = parseInt(section.querySelector('.question-points').textContent);
                            if (textAnswer.length > 200) {
                                questionScore = Math.round(maxPoints * 0.8);
                            } else if (textAnswer.length > 100) {
                                questionScore = Math.round(maxPoints * 0.6);
                            } else {
                                questionScore = Math.round(maxPoints * 0.4);
                            }
                            isCorrect = questionScore > maxPoints * 0.5;
                        }
                        break;
                }

                totalScore += questionScore;
                if (isCorrect) correctQuestions++;

                results.push({
                    question: questionNum,
                    score: questionScore,
                    correct: isCorrect
                });
            });

            return {
                totalScore,
                correctQuestions,
                percentage: Math.round((totalScore / 100) * 100),
                results
            };
        }

        // Show feedback for questions
        function showFeedback(results) {
            results.forEach(result => {
                const section = document.querySelector(`[data-question="${result.question}"]`);
                const feedback = section.querySelector('.feedback');
                
                if (feedback) {
                    feedback.classList.add('show');
                    if (result.correct) {
                        feedback.classList.add('correct');
                    } else {
                        feedback.classList.add('incorrect');
                    }
                }

                // Highlight correct/incorrect options for multiple choice
                if (section.dataset.type === 'multiple-choice') {
                    const correctValue = section.querySelector('.feedback').dataset.correct;
                    section.querySelectorAll('.option').forEach(option => {
                        const input = option.querySelector('input');
                        if (input.value === correctValue) {
                            option.classList.add('correct');
                        } else if (input.checked && input.value !== correctValue) {
                            option.classList.add('incorrect');
                        }
                    });
                }

                // Highlight correct/incorrect for true/false
                if (section.dataset.type === 'true-false') {
                    const correctValue = section.querySelector('.feedback').dataset.correct;
                    section.querySelectorAll('.tf-option').forEach(option => {
                        if (option.dataset.value === correctValue) {
                            option.classList.add('correct');
                        } else if (option.classList.contains('selected') && option.dataset.value !== correctValue) {
                            option.classList.add('incorrect');
                        }
                    });
                }
            });
        }

        // Calculate letter grade
        function calculateGrade(percentage) {
            if (percentage >= 90) return 'A';
            if (percentage >= 80) return 'B';
            if (percentage >= 70) return 'C';
            if (percentage >= 60) return 'D';
            return 'F';
        }

        // Submit exam
        function submitExam() {
            clearInterval(timerInterval);
            
            const results = gradeExam();
            showFeedback(results.results);
            
            // Update score display
            document.getElementById('score').textContent = results.totalScore;
            document.getElementById('percentage').textContent = results.percentage;
            document.getElementById('correct').textContent = results.correctQuestions;
            
            const grade = calculateGrade(results.percentage);
            const gradeElement = document.getElementById('grade');
            gradeElement.textContent = grade;
            gradeElement.className = 'grade ' + grade;
            
            document.getElementById('scoreDisplay').classList.add('show');
            
            // Scroll to top to show results
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Show model answers
        function showAnswers() {
            document.querySelectorAll('.mock-answer').forEach(answer => {
                answer.classList.add('show');
            });
        }

        // Reset exam
        function resetExam() {
            // Clear all answers
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            document.querySelectorAll('input[type="text"], textarea').forEach(input => {
                input.value = '';
            });
            document.querySelectorAll('select').forEach(select => {
                select.selectedIndex = 0;
            });
            
            // Remove all feedback and styling
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.classList.remove('show', 'correct', 'incorrect');
            });
            document.querySelectorAll('.option, .tf-option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            document.querySelectorAll('.mock-answer').forEach(answer => {
                answer.classList.remove('show');
            });
            
            // Hide score display
            document.getElementById('scoreDisplay').classList.remove('show');
            
            // Reset timer
            clearInterval(timerInterval);
            timeLeft = 3600;
            startTimer();
        }

        // Auto-save functionality (every 30 seconds)
        setInterval(() => {
            const answers = {};
            
            // Save multiple choice and true/false
            document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                answers[radio.name] = radio.value;
            });
            
            // Save text inputs
            document.querySelectorAll('input[type="text"], textarea').forEach(input => {
                if (input.value) {
                    answers[input.id || input.name] = input.value;
                }
            });
            
            // Save to localStorage
            localStorage.setItem('chapter1_exam_answers', JSON.stringify(answers));
            
            console.log('Exam auto-saved');
        }, 30000);

        // Load saved answers on page load
        window.addEventListener('load', () => {
            const saved = localStorage.getItem('chapter1_exam_answers');
            if (saved) {
                const answers = JSON.parse(saved);
                // Restore saved answers
                Object.keys(answers).forEach(key => {
                    const element = document.querySelector(`[name="${key}"]`) || document.getElementById(key);
                    if (element) {
                        if (element.type === 'radio') {
                            const radio = document.querySelector(`[name="${key}"][value="${answers[key]}"]`);
                            if (radio) radio.checked = true;
                        } else {
                            element.value = answers[key];
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>