<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS 340 Chapter 5 - ER to Relational Mapping & DDL</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700;800&family=Inter:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #0f172a;
            --secondary: #3b82f6;
            --accent: #f59e0b;
            --success: #10b981;
            --purple: #8b5cf6;
            --teal: #14b8a6;
            --pink: #ec4899;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 50%, #fef3c7 100%);
            color: #0f172a;
            line-height: 1.7;
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 60px 30px; }

        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 100px 60px;
            border-radius: 30px;
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(15, 23, 42, 0.4);
        }

        .hero h1 {
            font-family: 'Crimson Pro', serif;
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            opacity: 0.95;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }

        .hero-meta {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .meta-badge {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .toc {
            background: white;
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 50px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 5px solid var(--secondary);
        }

        .toc h2 {
            font-family: 'Crimson Pro', serif;
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 25px;
        }

        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .toc-item {
            padding: 15px 20px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 12px;
            border-left: 3px solid var(--teal);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .toc-item:hover {
            transform: translateX(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .toc-item a {
            text-decoration: none;
            color: #0f172a;
            font-weight: 500;
        }

        .section {
            background: white;
            padding: 50px;
            border-radius: 25px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            position: relative;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg, var(--secondary) 0%, var(--teal) 100%);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 3px solid #e2e8f0;
        }

        .section-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--teal) 100%);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        .section h2 {
            font-family: 'Crimson Pro', serif;
            font-size: 2.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .section h3 {
            font-family: 'Crimson Pro', serif;
            font-size: 1.8rem;
            color: var(--secondary);
            margin: 35px 0 20px;
        }

        .concept-box {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            padding: 30px;
            border-radius: 18px;
            margin: 25px 0;
            border-left: 5px solid var(--secondary);
        }

        .example-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 30px;
            border-radius: 18px;
            margin: 25px 0;
            border-left: 5px solid var(--accent);
        }

        .important-box {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            padding: 30px;
            border-radius: 18px;
            margin: 25px 0;
            border-left: 5px solid var(--pink);
        }

        .note-box {
            background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%);
            padding: 30px;
            border-radius: 18px;
            margin: 25px 0;
            border-left: 5px solid var(--teal);
        }

        .box-title {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .step-card {
            background: white;
            padding: 35px;
            border-radius: 20px;
            margin: 30px 0;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            border: 3px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .step-card:hover {
            border-color: var(--secondary);
            transform: translateY(-5px);
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent) 0%, #fbbf24 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.8rem;
            color: white;
        }

        .step-card h4 {
            font-family: 'Crimson Pro', serif;
            font-size: 1.6rem;
            color: var(--primary);
        }

        .notation {
            background: var(--primary);
            color: #e2e8f0;
            padding: 25px;
            border-radius: 12px;
            font-family: 'Space Mono', monospace;
            margin: 20px 0;
            overflow-x: auto;
            font-size: 0.95rem;
        }

        .notation code { color: #fbbf24; }

        ul, ol { margin-left: 25px; margin-top: 15px; }
        li { margin-bottom: 12px; line-height: 1.8; }
        li strong { color: var(--secondary); }

        .footer {
            text-align: center;
            margin-top: 80px;
            padding: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 25px;
            color: white;
        }

        .footer .name {
            font-family: 'Crimson Pro', serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .hero { padding: 60px 30px; }
            .hero h1 { font-size: 2.5rem; }
            .section { padding: 30px 25px; }
        }
    </style>
  <script src="/javascripts/standalone-theme.js"></script>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>üîÑ ER to Relational Mapping & DDL</h1>
            <p class="hero-subtitle">Transforming Conceptual Designs into Logical Database Schemas with SQL DDL</p>
            <div class="hero-meta">
                <div class="meta-badge">üìö Chapter 5</div>
                <div class="meta-badge">üéØ CS 340</div>
                <div class="meta-badge">üë©‚Äçüéì Shoug Alomran</div>
                <div class="meta-badge">‚è±Ô∏è Comprehensive Summary</div>
            </div>
        </div>

        <div class="toc">
            <h2>üìë Table of Contents</h2>
            <div class="toc-grid">
                <div class="toc-item"><a href="#overview">üéØ Overview</a></div>
                <div class="toc-item"><a href="#step1">1Ô∏è‚É£ Regular Entities</a></div>
                <div class="toc-item"><a href="#step2">2Ô∏è‚É£ Weak Entities</a></div>
                <div class="toc-item"><a href="#step3">3Ô∏è‚É£ Binary 1:1</a></div>
                <div class="toc-item"><a href="#step4">4Ô∏è‚É£ Binary 1:N</a></div>
                <div class="toc-item"><a href="#step5">5Ô∏è‚É£ Binary M:N</a></div>
                <div class="toc-item"><a href="#step6">6Ô∏è‚É£ Multivalued Attributes</a></div>
                <div class="toc-item"><a href="#step7">7Ô∏è‚É£ N-ary Relationships</a></div>
                <div class="toc-item"><a href="#step8">8Ô∏è‚É£ Specialization/Generalization</a></div>
                <div class="toc-item"><a href="#step9">9Ô∏è‚É£ Union Types</a></div>
                <div class="toc-item"><a href="#ddl">üíª DDL Basics</a></div>
            </div>
        </div>

        <div class="section" id="overview">
            <div class="section-header">
                <div class="section-icon">üéØ</div>
                <div>
                    <h2>ER-to-Relational Mapping Overview</h2>
                </div>
            </div>

            <div class="concept-box">
                <div class="box-title">üìò What is Mapping?</div>
                <p><strong>ER-to-Relational Mapping</strong> is the systematic process of transforming a conceptual ER (or EER) diagram into a logical relational database schema that can be implemented in a DBMS.</p>
            </div>

            <div class="important-box">
                <div class="box-title">üéØ The 9-Step Algorithm</div>
                <p><strong>Steps 1-7:</strong> Map ER Model components</p>
                <ul>
                    <li>Steps 1-2: Entity types (regular and weak)</li>
                    <li>Steps 3-5: Binary relationships (1:1, 1:N, M:N)</li>
                    <li>Step 6: Multivalued attributes</li>
                    <li>Step 7: N-ary relationships</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Steps 8-9:</strong> Map EER Model constructs</p>
                <ul>
                    <li>Step 8: Specialization/Generalization</li>
                    <li>Step 9: Union types (Categories)</li>
                </ul>
            </div>
        </div>

        <div class="section" id="step1">
            <div class="section-header">
                <div class="section-icon">1Ô∏è‚É£</div>
                <div>
                    <h2>Step 1: Mapping Regular Entity Types</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <h4>Regular (Strong) Entities</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each <strong>regular entity type E</strong> in the ER schema:</p>
                    <ol>
                        <li>Create a <strong>relation R</strong></li>
                        <li>Include all <strong>simple attributes</strong> of E as attributes of R</li>
                        <li>Choose one <strong>key attribute</strong> of E as the primary key for R</li>
                        <li>If the key is <strong>composite</strong>, the simple attributes that form it together become the primary key</li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example</div>
                    <p><strong>ER Entity:</strong> EMPLOYEE with attributes {SSN, Name, BDate, Address}</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
EMPLOYEE(<u>SSN</u>, Name, BDate, Address)
                    </div>
                    <p style="margin-top: 10px;">SSN is chosen as the primary key (underlined)</p>
                </div>

                <div class="note-box">
                    <div class="box-title">üìå Note on Composite Attributes</div>
                    <p>For composite attributes, include only the <strong>simple component attributes</strong>. For example, if Name is composite (Fname, Minit, Lname), include Fname, Minit, and Lname as separate attributes.</p>
                </div>
            </div>
        </div>

        <div class="section" id="step2">
            <div class="section-header">
                <div class="section-icon">2Ô∏è‚É£</div>
                <div>
                    <h2>Step 2: Mapping Weak Entity Types</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <h4>Weak Entities</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each <strong>weak entity type W</strong> with owner entity type E:</p>
                    <ol>
                        <li>Create a <strong>relation R</strong></li>
                        <li>Include all <strong>simple attributes</strong> of W as attributes of R</li>
                        <li>Include as <strong>foreign key</strong> the primary key of the owner entity relation</li>
                        <li>The primary key of R is the <strong>combination</strong> of:
                            <ul>
                                <li>The owner's primary key(s)</li>
                                <li>The partial key of W (if any)</li>
                            </ul>
                        </li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example: DEPENDENT</div>
                    <p><strong>Weak Entity:</strong> DEPENDENT (partial key: Dependent_name)</p>
                    <p><strong>Owner Entity:</strong> EMPLOYEE (primary key: SSN)</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
DEPENDENT(<u>ESSN</u>, <u>Dependent_name</u>, Sex, BDate, Relationship)
FOREIGN KEY (ESSN) REFERENCES EMPLOYEE(SSN)
                    </div>
                    <p style="margin-top: 10px;">Primary key is {ESSN, Dependent_name}</p>
                </div>

                <div class="important-box">
                    <div class="box-title">‚ö†Ô∏è Critical Point</div>
                    <p>The owner's primary key becomes both a <strong>foreign key</strong> AND part of the <strong>primary key</strong> of the weak entity relation.</p>
                </div>
            </div>
        </div>

        <div class="section" id="step3">
            <div class="section-header">
                <div class="section-icon">3Ô∏è‚É£</div>
                <div>
                    <h2>Step 3: Mapping Binary 1:1 Relationships</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <h4>Binary 1:1 Relationships</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Three Approaches</div>
                    <p>For each binary 1:1 relationship type R between S and T:</p>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Approach 1: Foreign Key (Most Common)</div>
                    <p><strong>Choose one relation</strong> (preferably with total participation) and include the other's primary key as a foreign key.</p>
                    <div class="example-box" style="margin-top: 15px;">
                        <p><strong>Example:</strong> EMPLOYEE MANAGES DEPARTMENT (1:1)</p>
                        <div class="notation">
DEPARTMENT(<u>Dnumber</u>, Dname, Mgr_ssn, Mgr_start_date)
FOREIGN KEY (Mgr_ssn) REFERENCES EMPLOYEE(SSN)
                        </div>
                        <p style="margin-top: 10px;">Mgr_ssn is the foreign key in DEPARTMENT</p>
                    </div>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Approach 2: Merged Relation</div>
                    <p>If both entities have <strong>total participation</strong>, merge them into a <strong>single relation</strong> with attributes from both.</p>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Approach 3: Relationship Relation</div>
                    <p>Create a <strong>separate relation</strong> for the relationship with foreign keys to both entities. (Rarely used for 1:1)</p>
                </div>

                <div class="important-box">
                    <div class="box-title">üí° Choosing the Best Approach</div>
                    <p>Use <strong>Foreign Key approach</strong> when one side has total participation. Place the foreign key in the relation with total participation to avoid NULL values.</p>
                </div>
            </div>
        </div>

        <div class="section" id="step4">
            <div class="section-header">
                <div class="section-icon">4Ô∏è‚É£</div>
                <div>
                    <h2>Step 4: Mapping Binary 1:N Relationships</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <h4>Binary 1:N Relationships</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each binary 1:N relationship type R:</p>
                    <ol>
                        <li>Identify relation <strong>S</strong> representing the entity type at the <strong>N-side</strong></li>
                        <li>Include as <strong>foreign key</strong> in S the primary key of relation T (the 1-side)</li>
                        <li>Include any <strong>simple attributes</strong> of the relationship as attributes of S</li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example: WORKS_FOR</div>
                    <p><strong>Relationship:</strong> EMPLOYEE (N) WORKS_FOR (1) DEPARTMENT</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
EMPLOYEE(<u>SSN</u>, Name, BDate, Address, DNO)
FOREIGN KEY (DNO) REFERENCES DEPARTMENT(Dnumber)

DEPARTMENT(<u>Dnumber</u>, Dname, Mgr_ssn)
                    </div>
                    <p style="margin-top: 10px;">DNO is foreign key in EMPLOYEE (the N-side)</p>
                </div>

                <div class="important-box">
                    <div class="box-title">üéØ Key Rule</div>
                    <p>The foreign key always goes in the relation on the <strong>N-side</strong> (many side) of the relationship.</p>
                </div>

                <div class="note-box">
                    <div class="box-title">üìå Alternative Approach</div>
                    <p>You could create a separate relationship relation, but this is <strong>rarely done</strong> for 1:N relationships as it creates unnecessary complexity and has little benefit.</p>
                </div>
            </div>
        </div>

        <div class="section" id="step5">
            <div class="section-header">
                <div class="section-icon">5Ô∏è‚É£</div>
                <div>
                    <h2>Step 5: Mapping Binary M:N Relationships</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">5</div>
                    <h4>Binary M:N Relationships</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each binary M:N relationship type R:</p>
                    <ol>
                        <li>Create a <strong>new relation S</strong> (relationship relation)</li>
                        <li>Include as <strong>foreign keys</strong> the primary keys of both participating entity relations</li>
                        <li>Their <strong>combination</strong> forms the primary key of S</li>
                        <li>Include any <strong>simple attributes</strong> of the M:N relationship as attributes of S</li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example: WORKS_ON</div>
                    <p><strong>Relationship:</strong> EMPLOYEE (M) WORKS_ON (N) PROJECT</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
WORKS_ON(<u>ESSN</u>, <u>PNO</u>, Hours)
FOREIGN KEY (ESSN) REFERENCES EMPLOYEE(SSN)
FOREIGN KEY (PNO) REFERENCES PROJECT(Pnumber)
                    </div>
                    <p style="margin-top: 10px;">Primary key is {ESSN, PNO}<br>Hours is an attribute of the relationship</p>
                </div>

                <div class="important-box">
                    <div class="box-title">‚ö†Ô∏è Critical Point</div>
                    <p>M:N relationships <strong>always require</strong> a separate relationship relation. You cannot use foreign keys in either participating entity relation because that would violate the relational model (multivalued attributes).</p>
                </div>
            </div>
        </div>

        <div class="section" id="step6">
            <div class="section-header">
                <div class="section-icon">6Ô∏è‚É£</div>
                <div>
                    <h2>Step 6: Mapping Multivalued Attributes</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">6</div>
                    <h4>Multivalued Attributes</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each <strong>multivalued attribute A</strong>:</p>
                    <ol>
                        <li>Create a <strong>new relation R</strong></li>
                        <li>Include attribute <strong>A</strong> in R</li>
                        <li>Include as <strong>foreign key K</strong> the primary key of the relation representing the entity/relationship that has A</li>
                        <li>The primary key of R is the <strong>combination {A, K}</strong></li>
                        <li>If A is <strong>composite</strong>, include its simple components</li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example: DEPT_LOCATIONS</div>
                    <p><strong>Multivalued Attribute:</strong> LOCATIONS of DEPARTMENT</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
DEPARTMENT(<u>Dnumber</u>, Dname, Mgr_ssn)

DEPT_LOCATIONS(<u>Dnumber</u>, <u>Dlocation</u>)
FOREIGN KEY (Dnumber) REFERENCES DEPARTMENT(Dnumber)
                    </div>
                    <p style="margin-top: 10px;">Primary key is {Dnumber, Dlocation}</p>
                </div>

                <div class="important-box">
                    <div class="box-title">üéØ Why a Separate Relation?</div>
                    <p>The relational model requires <strong>atomic values</strong> (First Normal Form). Multivalued attributes violate this, so they must be stored in a separate relation.</p>
                </div>
            </div>
        </div>

        <div class="section" id="step7">
            <div class="section-header">
                <div class="section-icon">7Ô∏è‚É£</div>
                <div>
                    <h2>Step 7: Mapping N-ary Relationships</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">7</div>
                    <h4>N-ary Relationships (n > 2)</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each <strong>n-ary relationship</strong> type R (where n > 2):</p>
                    <ol>
                        <li>Create a <strong>new relation S</strong></li>
                        <li>Include as <strong>foreign keys</strong> the primary keys of ALL participating entity relations</li>
                        <li>The primary key of S is usually the <strong>combination of all foreign keys</strong></li>
                        <li>Include any <strong>simple attributes</strong> of R as attributes of S</li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example: SUPPLY (Ternary Relationship)</div>
                    <p><strong>Relationship:</strong> SUPPLIER supplies PART to PROJECT</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
SUPPLY(<u>Sname</u>, <u>Part_no</u>, <u>Proj_name</u>, Quantity)
FOREIGN KEY (Sname) REFERENCES SUPPLIER(Sname)
FOREIGN KEY (Part_no) REFERENCES PART(Part_no)
FOREIGN KEY (Proj_name) REFERENCES PROJECT(Proj_name)
                    </div>
                    <p style="margin-top: 10px;">Primary key is {Sname, Part_no, Proj_name}</p>
                </div>

                <div class="note-box">
                    <div class="box-title">üìå Cardinality Considerations</div>
                    <p>If the relationship has cardinality constraints (e.g., M:N:1), the primary key may be just the combination of the foreign keys on the M and N sides, not all foreign keys.</p>
                </div>
            </div>
        </div>

        <div class="section" id="step8">
            <div class="section-header">
                <div class="section-icon">8Ô∏è‚É£</div>
                <div>
                    <h2>Step 8: Mapping Specialization/Generalization</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">8</div>
                    <h4>Specialization/Generalization Mapping</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Four Mapping Options</div>
                    <p>For specialization/generalization hierarchies, choose from:</p>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Option 1: Multiple Relations (Superclass + Subclasses)</div>
                    <p>Create a relation for the <strong>superclass</strong> and separate relations for each <strong>subclass</strong>.</p>
                    <ul>
                        <li>Superclass relation contains all common attributes + PK</li>
                        <li>Each subclass relation contains PK (as FK) + specific attributes</li>
                        <li>Best for <strong>disjoint</strong> specializations</li>
                    </ul>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Option 2: Multiple Relations (Subclasses Only)</div>
                    <p>Create relations <strong>only for subclasses</strong>, each containing all inherited + specific attributes.</p>
                    <ul>
                        <li>No separate superclass relation</li>
                        <li>Each subclass includes all superclass attributes</li>
                        <li>Best for <strong>total, disjoint</strong> specializations</li>
                    </ul>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Option 3: Single Relation with Type Attribute</div>
                    <p>Create a <strong>single relation</strong> with all attributes from superclass and all subclasses.</p>
                    <ul>
                        <li>Add a <strong>type attribute</strong> to distinguish entity types</li>
                        <li>Subclass-specific attributes may be NULL for non-applicable entities</li>
                        <li>Best for <strong>overlapping</strong> specializations</li>
                    </ul>
                </div>

                <div class="note-box">
                    <div class="box-title">üîπ Option 4: Single Relation with Multiple Type Attributes</div>
                    <p>Single relation with <strong>multiple Boolean type attributes</strong> (one per subclass).</p>
                    <ul>
                        <li>Each Boolean indicates membership in a subclass</li>
                        <li>Best for <strong>overlapping</strong> specializations where entities can belong to multiple subclasses</li>
                    </ul>
                </div>

                <div class="important-box">
                    <div class="box-title">üí° Choosing the Right Option</div>
                    <ul>
                        <li><strong>Disjoint + queries need all entities:</strong> Option 1</li>
                        <li><strong>Total + Disjoint:</strong> Option 2</li>
                        <li><strong>Overlapping:</strong> Option 3 or 4</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section" id="step9">
            <div class="section-header">
                <div class="section-icon">9Ô∏è‚É£</div>
                <div>
                    <h2>Step 9: Mapping Union Types (Categories)</h2>
                </div>
            </div>

            <div class="step-card">
                <div class="step-header">
                    <div class="step-number">9</div>
                    <h4>Union Types (Categories)</h4>
                </div>
                
                <div class="concept-box">
                    <div class="box-title">üìã Algorithm</div>
                    <p>For each <strong>category</strong> (union type):</p>
                    <ol>
                        <li>Create a relation for the <strong>category</strong></li>
                        <li>Include a <strong>surrogate key</strong> as primary key</li>
                        <li>Include this surrogate key as <strong>foreign key</strong> in each superclass relation</li>
                        <li>The surrogate key links category instances to their corresponding superclass instances</li>
                    </ol>
                </div>

                <div class="example-box">
                    <div class="box-title">üí° Example: OWNER Category</div>
                    <p><strong>Category:</strong> OWNER (union of PERSON, BANK, COMPANY)</p>
                    <p style="margin-top: 15px;"><strong>Relational Schema:</strong></p>
                    <div class="notation">
OWNER(<u>Owner_id</u>, Owner_type, ...)

PERSON(<u>SSN</u>, Name, Owner_id)
BANK(<u>Bank_code</u>, Name, Owner_id)
COMPANY(<u>Reg_no</u>, Name, Owner_id)
                    </div>
                    <p style="margin-top: 10px;">Owner_id is the surrogate key linking to specific superclass</p>
                </div>

                <div class="important-box">
                    <div class="box-title">üéØ Why Surrogate Keys?</div>
                    <p>Categories have superclasses with <strong>different key attributes</strong>. A surrogate key provides a uniform way to reference category members regardless of which superclass they belong to.</p>
                </div>
            </div>
        </div>

        <div class="section" id="ddl">
            <div class="section-header">
                <div class="section-icon">üíª</div>
                <div>
                    <h2>DDL (Data Definition Language) Basics</h2>
                </div>
            </div>

            <div class="concept-box">
                <div class="box-title">üìò What is DDL?</div>
                <p><strong>Data Definition Language (DDL)</strong> is used to define, modify, and delete database structures. Key DDL commands: CREATE, ALTER, DROP.</p>
            </div>

            <h3>CREATE TABLE</h3>
            <div class="example-box">
                <div class="box-title">üìù Basic Syntax</div>
                <div class="notation">
CREATE TABLE table_name (
    column_1 datatype,
    column_2 datatype,
    column_3 datatype,
    ...
);
                </div>
            </div>

            <div class="example-box">
                <div class="box-title">üí° Example: Creating CUSTOMER Table</div>
                <div class="notation">
CREATE TABLE CUSTOMER (
    Customer_id NUMBER(4),
    CustomerName VARCHAR(30),
    CustomerAddress VARCHAR(50)
);
                </div>
            </div>

            <h3>Primary Keys</h3>
            <div class="example-box">
                <div class="box-title">üîë Defining Primary Keys</div>
                <div class="notation">
CREATE TABLE CUSTOMER (
    Customer_id NUMBER(4) NOT NULL,
    CustomerName VARCHAR(30) NOT NULL,
    CustomerAddress VARCHAR(50),
    PRIMARY KEY (Customer_id)
);
                </div>
            </div>

            <h3>Composite Keys</h3>
            <div class="example-box">
                <div class="box-title">üîó Composite Primary Keys</div>
                <div class="notation">
CREATE TABLE Persons (
    ID INT NOT NULL,
    LastName VARCHAR(255) NOT NULL,
    FirstName VARCHAR(255),
    Age INT,
    CONSTRAINT PK_Person PRIMARY KEY (ID, LastName)
);
                </div>
            </div>

            <h3>Foreign Keys</h3>
            <div class="example-box">
                <div class="box-title">üîó Defining Foreign Keys</div>
                <div class="notation">
CREATE TABLE Orders (
    OrderID INT NOT NULL,
    OrderNumber INT NOT NULL,
    PersonID INT,
    PRIMARY KEY (OrderID),
    FOREIGN KEY (PersonID) REFERENCES Persons(PersonID)
);

-- Or with named constraint:
CREATE TABLE Orders (
    OrderID INT NOT NULL,
    OrderNumber INT NOT NULL,
    PersonID INT,
    PRIMARY KEY (OrderID),
    CONSTRAINT FK_PersonOrder 
        FOREIGN KEY (PersonID) 
        REFERENCES Persons(PersonID)
);
                </div>
            </div>

            <h3>DDL Constraints</h3>
            <div class="note-box">
                <div class="box-title">‚öôÔ∏è Common Constraints</div>
                <p><strong>Attribute Constraints:</strong></p>
                <ul>
                    <li><strong>NOT NULL:</strong> Column must have a value</li>
                    <li><strong>UNIQUE:</strong> Column value must be unique in table</li>
                    <li><strong>CHECK:</strong> Column value must satisfy a condition</li>
                    <li><strong>DEFAULT:</strong> Provides default value if none specified</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Foreign Key Conditions:</strong></p>
                <ul>
                    <li><strong>ON DELETE CASCADE:</strong> Delete referencing rows when referenced row is deleted</li>
                    <li><strong>ON UPDATE CASCADE:</strong> Update foreign key when primary key is updated</li>
                    <li><strong>ON DELETE SET NULL:</strong> Set foreign key to NULL when referenced row is deleted</li>
                </ul>
            </div>

            <div class="example-box">
                <div class="box-title">üí° Complete Example: DEPENDENT Table</div>
                <div class="notation">
CREATE TABLE Employee (
    ID INT NOT NULL,
    EmployeeName VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE DEPENDENT (
    Name VARCHAR(255) NOT NULL,
    EmployeeID INT NOT NULL,
    DateOfBirth DATE,
    Gender VARCHAR(1) DEFAULT 'F',
    CONSTRAINT PK_Dependent PRIMARY KEY (EmployeeID, Name),
    FOREIGN KEY (EmployeeID) REFERENCES Employee(ID)
);
                </div>
            </div>

            <h3>ALTER and DROP</h3>
            <div class="example-box">
                <div class="box-title">üîß Modifying and Deleting Tables</div>
                <div class="notation">
-- ALTER: Add or modify columns
ALTER TABLE Employee ADD Email VARCHAR(100);
ALTER TABLE Employee MODIFY Salary NUMBER(10,2);

-- DROP: Delete table
DROP TABLE DEPENDENT;

-- TRUNCATE: Remove all rows but keep structure
TRUNCATE TABLE Orders;

-- RENAME: Change table name
RENAME TABLE Old_Name TO New_Name;
                </div>
            </div>

            <div class="important-box">
                <div class="box-title">‚ö†Ô∏è Best Practices</div>
                <ul>
                    <li>Always define <strong>primary keys</strong> explicitly</li>
                    <li>Use <strong>meaningful constraint names</strong> for easier maintenance</li>
                    <li>Define <strong>NOT NULL</strong> for essential attributes</li>
                    <li>Specify <strong>ON DELETE/UPDATE</strong> actions for foreign keys</li>
                    <li>Use appropriate <strong>data types</strong> and sizes</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <div class="section-header">
                <div class="section-icon">‚ú®</div>
                <div>
                    <h2>Chapter Summary</h2>
                </div>
            </div>

            <div class="concept-box">
                <div class="box-title">üéØ Key Takeaways</div>
                <ul>
                    <li><strong>Steps 1-2:</strong> Entity mapping creates basic relations (regular and weak entities)</li>
                    <li><strong>Steps 3-5:</strong> Relationship mapping depends on cardinality (1:1, 1:N, M:N)</li>
                    <li><strong>Step 6:</strong> Multivalued attributes require separate relations</li>
                    <li><strong>Step 7:</strong> N-ary relationships need relationship relations</li>
                    <li><strong>Steps 8-9:</strong> EER constructs have multiple mapping options</li>
                    <li><strong>DDL:</strong> SQL commands translate logical schemas into physical databases</li>
                </ul>
            </div>

            <div class="important-box">
                <div class="box-title">üéì Next Steps</div>
                <p>With ER-to-Relational mapping complete, you can now:</p>
                <ul>
                    <li>Transform any ER/EER diagram into relational schemas</li>
                    <li>Use DDL to implement schemas in actual databases</li>
                    <li>Write SQL queries to manipulate and retrieve data</li>
                    <li>Understand normalization for optimal schema design</li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <div class="name">Shoug Alomran</div>
            <div style="font-size: 1.1rem; opacity: 0.9;">CS 340: Introduction to Database Systems</div>
            <div style="font-size: 1.1rem; opacity: 0.9;">Chapter 5 - ER-to-Relational Mapping & DDL</div>
            <div style="font-size: 1rem; margin-top: 15px; opacity: 0.8;">üìö Comprehensive Study Guide</div>
        </div>
    </div>

    <script>
        document.querySelectorAll('.toc-item a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        });
    </script>
</body>
</html>