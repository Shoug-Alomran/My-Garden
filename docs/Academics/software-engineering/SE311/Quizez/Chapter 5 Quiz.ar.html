<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SE311 - Chapter 5: Requirements Analysis Exam</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #dddddd;
            --correct-color: #4caf50;
            --incorrect-color: #f44336;
            --accent-color: #2196f3;
            --hover-color: #e3f2fd;
        }

        [data-theme="dark"] {
            --bg-primary: #1e1e1e;
            --bg-secondary: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --border-color: #444444;
            --correct-color: #66bb6a;
            --incorrect-color: #ef5350;
            --accent-color: #42a5f5;
            --hover-color: #263238;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: var(--bg-primary);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
        }

        .header h1 {
            color: var(--accent-color);
            margin-bottom: 10px;
            font-size: 28px;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .controls {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .toggle-buttons {
            display: flex;
            gap: 10px;
        }

        .toggle-btn {
            padding: 8px 16px;
            border: 1px solid var(--accent-color);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .toggle-btn:hover {
            background-color: var(--accent-color);
            color: white;
        }

        .toggle-btn.active {
            background-color: var(--accent-color);
            color: white;
        }

        .question {
            margin-bottom: 35px;
            padding: 25px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .question-number {
            font-weight: bold;
            color: var(--accent-color);
            font-size: 16px;
        }

        .question-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .question-badge {
            font-size: 11px;
            padding: 4px 8px;
            border-radius: 4px;
            background-color: var(--accent-color);
            color: white;
        }

        .question-text {
            margin-bottom: 15px;
            font-size: 15px;
            font-weight: 500;
        }

        .options {
            margin-left: 10px;
        }

        .option {
            margin-bottom: 12px;
            padding: 12px;
            border-radius: 5px;
            transition: background-color 0.2s;
            cursor: pointer;
        }

        .option:hover {
            background-color: var(--hover-color);
        }

        .option input[type="radio"],
        .option input[type="checkbox"] {
            margin-right: 10px;
            cursor: pointer;
        }

        .option label {
            cursor: pointer;
            display: inline;
        }

        textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            display: none;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feedback.correct {
            background-color: rgba(76, 175, 80, 0.1);
            border: 1px solid var(--correct-color);
            color: var(--correct-color);
        }

        .feedback.incorrect {
            background-color: rgba(244, 67, 54, 0.1);
            border: 1px solid var(--incorrect-color);
            color: var(--incorrect-color);
        }

        .feedback.partial {
            background-color: rgba(255, 152, 0, 0.1);
            border: 1px solid #ff9800;
            color: #f57c00;
        }

        .feedback-icon {
            font-weight: bold;
            margin-right: 8px;
        }

        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 30px;
        }

        .submit-btn:hover {
            background-color: #1976d2;
        }

        .submit-btn:disabled {
            background-color: var(--text-secondary);
            cursor: not-allowed;
        }

        .score-display {
            text-align: center;
            padding: 20px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
            display: none;
        }

        .rtl {
            direction: rtl;
            text-align: right;
        }

        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: var(--bg-primary);
            border-radius: 5px;
            font-size: 14px;
            line-height: 1.5;
        }

        .code-block {
            background-color: var(--bg-primary);
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 10px 0;
            border: 1px solid var(--border-color);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .toggle-buttons {
                justify-content: center;
            }
        }
    </style>
  <script src="/javascripts/standalone-theme.js"></script>
</head>
<body>
    <div class="container" id="examContainer">
        <div class="header">
            <h1 id="examTitle">SE311 - Software Requirements Engineering</h1>
            <p id="examSubtitle">Chapter 5: Requirements Analysis (Domain Modeling & Use Case Modeling)</p>
            <p id="examInfo">Total Points: 25 | Time: Open</p>
        </div>

        <div class="controls">
            <div class="toggle-buttons">
                <button class="toggle-btn active" id="langToggle" onclick="toggleLanguage()">العربية</button>
            </div>
        </div>

        <!-- Question 1 - MCQ (Extracted from Midterm) -->
        <div class="question" data-question="1" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 1" data-ar="السؤال 1">Question 1</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="EXTRACTED" data-ar="مستخرج">EXTRACTED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="In domain modeling, which of the following should NOT be included as a class?" 
                 data-ar="في نمذجة المجال، أي مما يلي لا يجب تضمينه كصنف (Class)؟">
                In domain modeling, which of the following should NOT be included as a class?
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q1" id="q1a" value="a">
                    <label for="q1a" data-en="Business objects (e.g., orders, accounts)" data-ar="كائنات العمل (مثل الطلبات، الحسابات)">Business objects (e.g., orders, accounts)</label>
                </div>
                <div class="option">
                    <input type="radio" name="q1" id="q1b" value="b">
                    <label for="q1b" data-en="Real-world objects (e.g., suppliers, customers)" data-ar="الكائنات الحقيقية (مثل الموردين، العملاء)">Real-world objects (e.g., suppliers, customers)</label>
                </div>
                <div class="option">
                    <input type="radio" name="q1" id="q1c" value="c">
                    <label for="q1c" data-en="Operations or actions (e.g., generates, browses)" data-ar="العمليات أو الإجراءات (مثل ينشئ، يتصفح)">Operations or actions (e.g., generates, browses)</label>
                </div>
                <div class="option">
                    <input type="radio" name="q1" id="q1d" value="d">
                    <label for="q1d" data-en="Events (e.g., aircraft arrival/departure)" data-ar="الأحداث (مثل وصول/مغادرة الطائرة)">Events (e.g., aircraft arrival/departure)</label>
                </div>
            </div>
            <div class="feedback" id="feedback1"></div>
        </div>

        <!-- Question 2 - MCQ (Generated) -->
        <div class="question" data-question="2" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 2" data-ar="السؤال 2">Question 2</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="When identifying classes from user requirements, which statement is TRUE?" 
                 data-ar="عند تحديد الأصناف من متطلبات المستخدم، أي عبارة صحيحة؟">
                When identifying classes from user requirements, which statement is TRUE?
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q2" id="q2a" value="a">
                    <label for="q2a" data-en="Classes appear as verbs/verb phrases" data-ar="الأصناف تظهر كأفعال/عبارات فعلية">Classes appear as verbs/verb phrases</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" id="q2b" value="b">
                    <label for="q2b" data-en="Classes appear as nouns/noun phrases" data-ar="الأصناف تظهر كأسماء/عبارات اسمية">Classes appear as nouns/noun phrases</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" id="q2c" value="c">
                    <label for="q2c" data-en="Classes appear as adjectives" data-ar="الأصناف تظهر كصفات">Classes appear as adjectives</label>
                </div>
                <div class="option">
                    <input type="radio" name="q2" id="q2d" value="d">
                    <label for="q2d" data-en="Classes should represent transient data" data-ar="الأصناف يجب أن تمثل البيانات المؤقتة">Classes should represent transient data</label>
                </div>
            </div>
            <div class="feedback" id="feedback2"></div>
        </div>

        <!-- Question 3 - MCQ (Generated) -->
        <div class="question" data-question="3" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 3" data-ar="السؤال 3">Question 3</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="Which of the following is a common error in domain modeling?" 
                 data-ar="أي مما يلي يُعتبر خطأ شائعاً في نمذجة المجال؟">
                Which of the following is a common error in domain modeling?
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q3" id="q3a" value="a">
                    <label for="q3a" data-en="Using association classes for quantity sold" data-ar="استخدام أصناف الارتباط لكمية المبيعات">Using association classes for quantity sold</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" id="q3b" value="b">
                    <label for="q3b" data-en="Using 'ids' to relate classes instead of associations" data-ar="استخدام 'المعرفات' لربط الأصناف بدلاً من الارتباطات">Using "ids" to relate classes instead of associations</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" id="q3c" value="c">
                    <label for="q3c" data-en="Showing multiplicity constraints" data-ar="إظهار قيود التعددية">Showing multiplicity constraints</label>
                </div>
                <div class="option">
                    <input type="radio" name="q3" id="q3d" value="d">
                    <label for="q3d" data-en="Identifying persistent data requirements" data-ar="تحديد متطلبات البيانات الدائمة">Identifying persistent data requirements</label>
                </div>
            </div>
            <div class="feedback" id="feedback3"></div>
        </div>

        <!-- Question 4 - MCQ (Generated) -->
        <div class="question" data-question="4" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 4" data-ar="السؤال 4">Question 4</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #4caf50;" data-en="USE CASE" data-ar="حالة الاستخدام">USE CASE</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="A use case actor is always a person having a role that different people may play." 
                 data-ar="ممثل حالة الاستخدام (Actor) هو دائماً شخص يلعب دوراً قد يلعبه أشخاص مختلفون.">
                A use case actor is always a person having a role that different people may play.
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q4" id="q4a" value="a">
                    <label for="q4a" data-en="True" data-ar="صحيح">True</label>
                </div>
                <div class="option">
                    <input type="radio" name="q4" id="q4b" value="b">
                    <label for="q4b" data-en="False" data-ar="خاطئ">False</label>
                </div>
            </div>
            <div class="feedback" id="feedback4"></div>
        </div>

        <!-- Question 5 - MCQ (Generated) -->
        <div class="question" data-question="5" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 5" data-ar="السؤال 5">Question 5</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #4caf50;" data-en="USE CASE" data-ar="حالة الاستخدام">USE CASE</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="Which of the following is a common error in use case modeling?" 
                 data-ar="أي مما يلي يُعتبر خطأ شائعاً في نمذجة حالات الاستخدام؟">
                Which of the following is a common error in use case modeling?
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q5" id="q5a" value="a">
                    <label for="q5a" data-en="Representing input/output devices as actors" data-ar="تمثيل أجهزة الإدخال/الإخراج كممثلين">Representing input/output devices as actors</label>
                </div>
                <div class="option">
                    <input type="radio" name="q5" id="q5b" value="b">
                    <label for="q5b" data-en="Identifying stakeholder roles as actors" data-ar="تحديد أدوار أصحاب المصلحة كممثلين">Identifying stakeholder roles as actors</label>
                </div>
                <div class="option">
                    <input type="radio" name="q5" id="q5c" value="c">
                    <label for="q5c" data-en="Grouping related functionality into use cases" data-ar="تجميع الوظائف المرتبطة في حالات استخدام">Grouping related functionality into use cases</label>
                </div>
                <div class="option">
                    <input type="radio" name="q5" id="q5d" value="d">
                    <label for="q5d" data-en="Showing actors interacting with use cases" data-ar="إظهار الممثلين وهم يتفاعلون مع حالات الاستخدام">Showing actors interacting with use cases</label>
                </div>
            </div>
            <div class="feedback" id="feedback5"></div>
        </div>

        <!-- Question 6 - MCQ (Generated) -->
        <div class="question" data-question="6" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 6" data-ar="السؤال 6">Question 6</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #4caf50;" data-en="USE CASE" data-ar="حالة الاستخدام">USE CASE</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="In use case modeling, 'Login' should be represented as:" 
                 data-ar="في نمذجة حالات الاستخدام، يجب تمثيل 'تسجيل الدخول' كـ:">
                In use case modeling, "Login" should be represented as:
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q6" id="q6a" value="a">
                    <label for="q6a" data-en="A primary use case" data-ar="حالة استخدام رئيسية">A primary use case</label>
                </div>
                <div class="option">
                    <input type="radio" name="q6" id="q6b" value="b">
                    <label for="q6b" data-en="A non-functional (security) requirement via administration use case" data-ar="متطلب غير وظيفي (أمني) عبر حالة استخدام إدارية">A non-functional (security) requirement via administration use case</label>
                </div>
                <div class="option">
                    <input type="radio" name="q6" id="q6c" value="c">
                    <label for="q6c" data-en="An actor" data-ar="ممثل">An actor</label>
                </div>
                <div class="option">
                    <input type="radio" name="q6" id="q6d" value="d">
                    <label for="q6d" data-en="A functional requirement" data-ar="متطلب وظيفي">A functional requirement</label>
                </div>
            </div>
            <div class="feedback" id="feedback6"></div>
        </div>

        <!-- Question 7 - MCQ (Generated) -->
        <div class="question" data-question="7" data-type="mcq" data-points="1">
            <div class="question-header">
                <span class="question-number" data-en="Question 7" data-ar="السؤال 7">Question 7</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="Object identifiers should be included as attributes in the domain model." 
                 data-ar="يجب تضمين معرفات الكائنات كخصائص في نموذج المجال.">
                Object identifiers should be included as attributes in the domain model.
            </div>
            <div class="options">
                <div class="option">
                    <input type="radio" name="q7" id="q7a" value="a">
                    <label for="q7a" data-en="True" data-ar="صحيح">True</label>
                </div>
                <div class="option">
                    <input type="radio" name="q7" id="q7b" value="b">
                    <label for="q7b" data-en="False" data-ar="خاطئ">False</label>
                </div>
            </div>
            <div class="feedback" id="feedback7"></div>
        </div>

        <!-- Question 8 - Short Answer (Extracted from Movie Shop) -->
        <div class="question" data-question="8" data-type="short" data-points="5">
            <div class="question-header">
                <span class="question-number" data-en="Question 8" data-ar="السؤال 8">Question 8</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="EXTRACTED" data-ar="مستخرج">EXTRACTED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="For the Movie Shop system, identify at least FIVE classes and THREE associations that should be included in the domain model. For each class, mention at least one attribute. Explain why these classes represent persistent data." 
                 data-ar="لنظام متجر الأفلام، حدد على الأقل خمسة أصناف وثلاثة ارتباطات يجب تضمينها في نموذج المجال. لكل صنف، اذكر خاصية واحدة على الأقل. اشرح لماذا تمثل هذه الأصناف بيانات دائمة.">
                For the Movie Shop system, identify at least FIVE classes and THREE associations that should be included in the domain model. For each class, mention at least one attribute. Explain why these classes represent persistent data.
            </div>
            <textarea id="q8" rows="12" placeholder="Type your answer here..."></textarea>
            <div class="feedback" id="feedback8"></div>
        </div>

        <!-- Question 9 - Short Answer (Extracted from Movie Shop) -->
        <div class="question" data-question="9" data-type="short" data-points="4">
            <div class="question-header">
                <span class="question-number" data-en="Question 9" data-ar="السؤال 9">Question 9</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="EXTRACTED" data-ar="مستخرج">EXTRACTED</span>
                    <span class="question-badge" style="background-color: #4caf50;" data-en="USE CASE" data-ar="حالة الاستخدام">USE CASE</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="For the Movie Shop system, identify at least FOUR actors and explain their roles. Then identify at least THREE use cases and explain what functionality each provides." 
                 data-ar="لنظام متجر الأفلام، حدد على الأقل أربعة ممثلين واشرح أدوارهم. ثم حدد على الأقل ثلاث حالات استخدام واشرح الوظيفة التي يوفرها كل منها.">
                For the Movie Shop system, identify at least FOUR actors and explain their roles. Then identify at least THREE use cases and explain what functionality each provides.
            </div>
            <textarea id="q9" rows="12" placeholder="Type your answer here..."></textarea>
            <div class="feedback" id="feedback9"></div>
        </div>

        <!-- Question 10 - Short Answer (Generated) -->
        <div class="question" data-question="10" data-type="short" data-points="4">
            <div class="question-header">
                <span class="question-number" data-en="Question 10" data-ar="السؤال 10">Question 10</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="Explain the difference between an association and an association class. Provide an example from a real-world domain (not the Movie Shop) where an association class would be more appropriate than a simple association, and explain why." 
                 data-ar="اشرح الفرق بين الارتباط وصنف الارتباط. قدم مثالاً من مجال واقعي (ليس متجر الأفلام) حيث يكون صنف الارتباط أكثر ملاءمة من الارتباط البسيط، واشرح السبب.">
                Explain the difference between an association and an association class. Provide an example from a real-world domain (not the Movie Shop) where an association class would be more appropriate than a simple association, and explain why.
            </div>
            <textarea id="q10" rows="10" placeholder="Type your answer here..."></textarea>
            <div class="feedback" id="feedback10"></div>
        </div>

        <!-- Question 11 - Short Answer (Generated) -->
        <div class="question" data-question="11" data-type="short" data-points="3">
            <div class="question-header">
                <span class="question-number" data-en="Question 11" data-ar="السؤال 11">Question 11</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="GENERATED" data-ar="مولّد" style="background-color: #ff9800;">GENERATED</span>
                    <span class="question-badge" style="background-color: #9c27b0;" data-en="DOMAIN MODEL" data-ar="نموذج المجال">DOMAIN MODEL</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="List and briefly explain FOUR common errors to avoid when creating a domain model." 
                 data-ar="اذكر واشرح بإيجاز أربعة أخطاء شائعة يجب تجنبها عند إنشاء نموذج المجال.">
                List and briefly explain FOUR common errors to avoid when creating a domain model.
            </div>
            <textarea id="q11" rows="10" placeholder="Type your answer here..."></textarea>
            <div class="feedback" id="feedback11"></div>
        </div>

        <!-- Question 12 - Short Answer (Extracted from PSU Use Case) -->
        <div class="question" data-question="12" data-type="short" data-points="4">
            <div class="question-header">
                <span class="question-number" data-en="Question 12" data-ar="السؤال 12">Question 12</span>
                <div class="question-badges">
                    <span class="question-badge" data-en="EXTRACTED" data-ar="مستخرج">EXTRACTED</span>
                    <span class="question-badge" style="background-color: #4caf50;" data-en="USE CASE" data-ar="حالة الاستخدام">USE CASE</span>
                </div>
            </div>
            <div class="question-text" 
                 data-en="For the 'Reserve Movie' use case in the Movie Shop system: Write a brief description, identify the precondition and postcondition, and describe the basic flow of activities between the actor and system (at least 4 steps)." 
                 data-ar="لحالة استخدام 'حجز فيلم' في نظام متجر الأفلام: اكتب وصفاً موجزاً، حدد الشرط المسبق والشرط اللاحق، واشرح التدفق الأساسي للأنشطة بين الممثل والنظام (على الأقل 4 خطوات).">
                For the "Reserve Movie" use case in the Movie Shop system: Write a brief description, identify the precondition and postcondition, and describe the basic flow of activities between the actor and system (at least 4 steps).
            </div>
            <textarea id="q12" rows="12" placeholder="Type your answer here..."></textarea>
            <div class="feedback" id="feedback12"></div>
        </div>

        <button class="submit-btn" id="submitBtn" onclick="gradeExam()" 
                data-en="Submit Exam" data-ar="تسليم الامتحان">Submit Exam</button>
        
        <div class="score-display" id="scoreDisplay"></div>
    </div>

    <script>
        // Detect dark mode
        function detectDarkMode() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        }

        // Listen for dark mode changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            document.documentElement.setAttribute('data-theme', e.matches ? 'dark' : 'light');
        });

        // Initialize on page load
        detectDarkMode();

        let currentLang = 'en';

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'ar' : 'en';
            const container = document.getElementById('examContainer');
            const langBtn = document.getElementById('langToggle');
            
            if (currentLang === 'ar') {
                container.classList.add('rtl');
                container.setAttribute('dir', 'rtl');
                langBtn.textContent = 'English';
            } else {
                container.classList.remove('rtl');
                container.setAttribute('dir', 'ltr');
                langBtn.textContent = 'العربية';
            }

            // Update all translatable elements
            document.querySelectorAll('[data-en]').forEach(element => {
                const text = element.getAttribute(`data-${currentLang}`);
                if (text) {
                    if (element.tagName === 'INPUT') {
                        element.placeholder = text;
                    } else if (element.tagName === 'BUTTON') {
                        element.textContent = text;
                    } else {
                        element.textContent = text;
                    }
                }
            });
        }

        // Answer key and grading logic
        const answers = {
            1: {
                correct: 'c',
                explanation: {
                    en: "Operations or actions should NOT be included as classes in domain modeling. Classes should represent things/concepts that exist, not operations. Operations are represented as methods/behaviors of classes, not as classes themselves.",
                    ar: "لا يجب تضمين العمليات أو الإجراءات كأصناف في نمذجة المجال. يجب أن تمثل الأصناف الأشياء/المفاهيم الموجودة، وليس العمليات. تُمثل العمليات كطرق/سلوكيات للأصناف، وليس كأصناف بحد ذاتها."
                }
            },
            2: {
                correct: 'b',
                explanation: {
                    en: "Classes naturally appear as nouns or noun phrases in user requirements. For example, 'customer,' 'movie,' 'rental' are all nouns that become classes. Associations appear as verbs/verb phrases.",
                    ar: "تظهر الأصناف بشكل طبيعي كأسماء أو عبارات اسمية في متطلبات المستخدم. على سبيل المثال، 'عميل'، 'فيلم'، 'إيجار' كلها أسماء تصبح أصنافاً. تظهر الارتباطات كأفعال/عبارات فعلية."
                }
            },
            3: {
                correct: 'b',
                explanation: {
                    en: "Using 'ids' to relate classes is a common error. Instead of using IDs as attributes, you should use proper associations to show relationships between classes. IDs are implementation details and should not appear in the domain model.",
                    ar: "استخدام 'المعرفات' لربط الأصناف هو خطأ شائع. بدلاً من استخدام المعرفات كخصائص، يجب استخدام الارتباطات المناسبة لإظهار العلاقات بين الأصناف. المعرفات هي تفاصيل التنفيذ ولا يجب أن تظهر في نموذج المجال."
                }
            },
            4: {
                correct: 'b',
                explanation: {
                    en: "False. An actor is not always a person. An actor represents a role (which can be played by people, systems, or devices) that interacts with the system. For example, an external payment system can be an actor.",
                    ar: "خاطئ. الممثل ليس دائماً شخصاً. يمثل الممثل دوراً (يمكن أن يلعبه أشخاص أو أنظمة أو أجهزة) يتفاعل مع النظام. على سبيل المثال، يمكن أن يكون نظام الدفع الخارجي ممثلاً."
                }
            },
            5: {
                correct: 'a',
                explanation: {
                    en: "Representing input/output devices (like web, phone, terminals) as actors is a common error. These are communication methods (how something is done), not actors. Actors should be roles that interact with the system.",
                    ar: "تمثيل أجهزة الإدخال/الإخراج (مثل الويب، الهاتف، الأجهزة الطرفية) كممثلين هو خطأ شائع. هذه طرق اتصال (كيف يتم القيام بشيء ما)، وليست ممثلين. يجب أن يكون الممثلون أدواراً تتفاعل مع النظام."
                }
            },
            6: {
                correct: 'b',
                explanation: {
                    en: "Login is not a functional requirement but a non-functional (security) requirement. It should be represented via an administration use case, not as a primary use case. It's a common error to create a separate 'Login' use case.",
                    ar: "تسجيل الدخول ليس متطلباً وظيفياً ولكنه متطلب غير وظيفي (أمني). يجب تمثيله عبر حالة استخدام إدارية، وليس كحالة استخدام رئيسية. من الأخطاء الشائعة إنشاء حالة استخدام منفصلة لـ'تسجيل الدخول'."
                }
            },
            7: {
                correct: 'b',
                explanation: {
                    en: "False. Object identifiers should NOT be included as attributes in the domain model. They are implementation details and do not represent business concepts. The domain model focuses on business objects and their relationships, not how they're stored.",
                    ar: "خاطئ. لا يجب تضمين معرفات الكائنات كخصائص في نموذج المجال. إنها تفاصيل التنفيذ ولا تمثل المفاهيم التجارية. يركز نموذج المجال على كائنات العمل وعلاقاتها، وليس كيفية تخزينها."
                }
            },
            8: {
                keywords: {
                    classes: ['customer', 'member', 'movie', 'rentalcopy', 'review', 'purchase', 'rental', 'عميل', 'عضو', 'فيلم', 'نسخة', 'مراجعة', 'شراء', 'إيجار'],
                    attributes: ['name', 'address', 'email', 'title', 'price', 'rating', 'quantity', 'اسم', 'عنوان', 'بريد', 'عنوان', 'سعر', 'تقييم', 'كمية'],
                    associations: ['purchases', 'rents', 'reserves', 'reviews', 'has', 'يشتري', 'يستأجر', 'يحجز', 'يراجع', 'لديه'],
                    persistent: ['persistent', 'database', 'store', 'save', 'record', 'دائم', 'قاعدة', 'حفظ', 'تسجيل']
                },
                explanation: {
                    en: "Good answers identify classes like Customer, Member, Movie, RentalCopy, Review, Purchase, Rental with relevant attributes (name, email, title, price, rating, etc.). Associations should include Purchases, Rents, Reserves, Reviews, HasPhysical. Persistent data explanation should mention that this information must be stored in a database and maintained over time.",
                    ar: "الإجابات الجيدة تحدد أصنافاً مثل العميل، العضو، الفيلم، نسخة الإيجار، المراجعة، الشراء، الإيجار مع خصائص ذات صلة (الاسم، البريد الإلكتروني، العنوان، السعر، التقييم، إلخ). يجب أن تشمل الارتباطات: يشتري، يستأجر، يحجز، يراجع، لديه_نسخة_مادية. يجب أن يذكر شرح البيانات الدائمة أن هذه المعلومات يجب تخزينها في قاعدة بيانات والحفاظ عليها بمرور الوقت."
                }
            },
            9: {
                keywords: {
                    actors: ['customer', 'member', 'sales clerk', 'manager', 'عميل', 'عضو', 'بائع', 'مدير'],
                    usecases: ['buy', 'rent', 'reserve', 'manage', 'review', 'report', 'شراء', 'إيجار', 'حجز', 'إدارة', 'مراجعة', 'تقرير'],
                    roles: ['role', 'interact', 'system', 'دور', 'تفاعل', 'نظام'],
                    functionality: ['functionality', 'allow', 'enable', 'provide', 'وظيفة', 'يسمح', 'يمكّن', 'يوفر']
                },
                explanation: {
                    en: "Good answers identify actors: Customer (enters/browses reviews, receives notices), Member (buys/rents movies, reserves, updates info), Sales Clerk (sells/rents movies, manages customer info), Manager (generates reports). Use cases: Buy Movie (purchase movies), Rent Movie (rent physical/digital movies), Reserve Movie (reserve physical movies), Manage Reviews (enter/browse reviews), Generate Reports (sales/rental reports).",
                    ar: "الإجابات الجيدة تحدد الممثلين: العميل (يدخل/يتصفح المراجعات، يستلم إشعارات)، العضو (يشتري/يستأجر أفلام، يحجز، يحدّث المعلومات)، موظف المبيعات (يبيع/يؤجر أفلام، يدير معلومات العملاء)، المدير (ينشئ التقارير). حالات الاستخدام: شراء فيلم (شراء أفلام)، استئجار فيلم (استئجار أفلام مادية/رقمية)، حجز فيلم (حجز أفلام مادية)، إدارة المراجعات (إدخال/تصفح المراجعات)، إنشاء التقارير (تقارير المبيعات/الإيجارات)."
                }
            },
            10: {
                keywords: {
                    difference: ['association', 'class', 'attribute', 'relationship', 'ارتباط', 'صنف', 'خاصية', 'علاقة'],
                    example: ['example', 'student', 'course', 'enrollment', 'employee', 'project', 'مثال', 'طالب', 'مقرر', 'تسجيل', 'موظف', 'مشروع'],
                    appropriate: ['appropriate', 'better', 'needed', 'depends', 'مناسب', 'أفضل', 'يحتاج', 'يعتمد'],
                    why: ['because', 'reason', 'since', 'لأن', 'سبب', 'حيث']
                },
                explanation: {
                    en: "Good answers explain that a simple association connects two classes, while an association class is used when the association itself has attributes that depend on the existence of the relationship. Example: Student enrolls in Course - Enrollment is an association class with attributes like enrollmentDate, grade, status. These attributes only exist when a student is enrolled in a specific course.",
                    ar: "الإجابات الجيدة تشرح أن الارتباط البسيط يربط بين صنفين، بينما يُستخدم صنف الارتباط عندما يكون للارتباط نفسه خصائص تعتمد على وجود العلاقة. مثال: الطالب يسجل في المقرر - التسجيل هو صنف ارتباط له خصائص مثل تاريخ التسجيل، الدرجة، الحالة. هذه الخصائص موجودة فقط عندما يكون الطالب مسجلاً في مقرر معين."
                }
            },
            11: {
                keywords: {
                    error1: ['id', 'identifier', 'معرف', 'معرّف'],
                    error2: ['operation', 'action', 'verb', 'generates', 'عملية', 'إجراء', 'فعل', 'ينشئ'],
                    error3: ['implementation', 'system', 'web', 'phone', 'تنفيذ', 'نظام', 'ويب', 'هاتف'],
                    error4: ['generalization', 'aggregation', 'composition', 'incorrect', 'overuse', 'تعميم', 'تجميع', 'تكوين', 'خاطئ', 'إفراط']
                },
                explanation: {
                    en: "Common errors include: (1) Using IDs to relate classes instead of associations (2) Representing operations/actions as classes (3) Including implementation constructs like System, Web, Phone (4) Incorrect/overuse of generalization or aggregation/composition. Good answers explain why each is problematic.",
                    ar: "الأخطاء الشائعة تشمل: (١) استخدام المعرفات لربط الأصناف بدلاً من الارتباطات (٢) تمثيل العمليات/الإجراءات كأصناف (٣) تضمين تراكيب التنفيذ مثل النظام، الويب، الهاتف (٤) الاستخدام الخاطئ/الإفراط في استخدام التعميم أو التجميع/التكوين. الإجابات الجيدة تشرح لماذا كل منها إشكالي."
                }
            },
            12: {
                keywords: {
                    description: ['reserve', 'movie', 'member', 'physical', 'rental', 'حجز', 'فيلم', 'عضو', 'مادي', 'إيجار'],
                    precondition: ['precondition', 'member', 'account', 'login', 'شرط مسبق', 'عضو', 'حساب', 'دخول'],
                    postcondition: ['postcondition', 'reserved', 'confirmed', 'message', 'شرط لاحق', 'محجوز', 'مؤكد', 'رسالة'],
                    flow: ['login', 'available', 'choose', 'confirm', 'system', 'دخول', 'متاح', 'اختيار', 'تأكيد', 'نظام']
                },
                explanation: {
                    en: "Good answers include: Description - allows member/clerk to reserve up to 5 physical movies. Precondition - member must have account. Postcondition - reservation confirmed. Flow: 1) Member logs in 2) System shows available movies 3) Member chooses movie 4) System confirms reservation. Should mention the 5-movie limit constraint.",
                    ar: "الإجابات الجيدة تشمل: الوصف - يسمح للعضو/الموظف بحجز ما يصل إلى 5 أفلام مادية. الشرط المسبق - يجب أن يكون للعضو حساب. الشرط اللاحق - تأكيد الحجز. التدفق: ١) العضو يسجل الدخول ٢) النظام يعرض الأفلام المتاحة ٣) العضو يختار الفيلم ٤) النظام يؤكد الحجز. يجب ذكر قيد حد الـ5 أفلام."
                }
            }
        };

        function gradeExam() {
            let totalScore = 0;
            const maxScore = 25;

            // Grade MCQ questions (Q1-Q7)
            for (let i = 1; i <= 7; i++) {
                const selectedAnswer = document.querySelector(`input[name="q${i}"]:checked`);
                const feedback = document.getElementById(`feedback${i}`);
                
                if (selectedAnswer) {
                    const isCorrect = selectedAnswer.value === answers[i].correct;
                    if (isCorrect) {
                        totalScore += 1;
                        feedback.className = 'feedback correct';
                        feedback.innerHTML = `
                            <span class="feedback-icon">✓</span>
                            <strong>${currentLang === 'en' ? 'Correct!' : 'صحيح!'}</strong>
                            <div class="explanation">${answers[i].explanation[currentLang]}</div>
                        `;
                    } else {
                        feedback.className = 'feedback incorrect';
                        feedback.innerHTML = `
                            <span class="feedback-icon">✗</span>
                            <strong>${currentLang === 'en' ? 'Incorrect' : 'خاطئ'}</strong>
                            <div class="explanation">
                                ${currentLang === 'en' ? 'Correct answer: ' : 'الإجابة الصحيحة: '}
                                ${answers[i].correct.toUpperCase()}<br>
                                ${answers[i].explanation[currentLang]}
                            </div>
                        `;
                    }
                    feedback.style.display = 'block';
                } else {
                    const feedback = document.getElementById(`feedback${i}`);
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = `
                        <span class="feedback-icon">✗</span>
                        <strong>${currentLang === 'en' ? 'No answer selected' : 'لم يتم اختيار إجابة'}</strong>
                    `;
                    feedback.style.display = 'block';
                }
            }

            // Grade short answer questions (Q8-Q12)
            const shortAnswers = [
                { q: 8, points: 5 },
                { q: 9, points: 4 },
                { q: 10, points: 4 },
                { q: 11, points: 3 },
                { q: 12, points: 4 }
            ];

            shortAnswers.forEach(({ q, points }) => {
                const answer = document.getElementById(`q${q}`).value.toLowerCase();
                const feedback = document.getElementById(`feedback${q}`);
                
                if (answer.trim().length < 50) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = `
                        <span class="feedback-icon">✗</span>
                        <strong>${currentLang === 'en' ? 'Answer too short (minimum 50 characters)' : 'الإجابة قصيرة جداً (على الأقل 50 حرفاً)'}</strong>
                        <div class="explanation">${answers[q].explanation[currentLang]}</div>
                    `;
                    feedback.style.display = 'block';
                    return;
                }

                let score = 0;
                let matchedKeywords = [];
                let totalKeywordGroups = Object.keys(answers[q].keywords).length;

                // Check for keywords
                Object.entries(answers[q].keywords).forEach(([group, keywords]) => {
                    const hasKeyword = keywords.some(keyword => answer.includes(keyword.toLowerCase()));
                    if (hasKeyword) {
                        matchedKeywords.push(group);
                        score += points / totalKeywordGroups;
                    }
                });

                totalScore += Math.round(score);
                const percentage = (matchedKeywords.length / totalKeywordGroups) * 100;

                if (percentage >= 75) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = `
                        <span class="feedback-icon">✓</span>
                        <strong>${currentLang === 'en' ? 'Excellent answer!' : 'إجابة ممتازة!'} 
                        (${Math.round(score)}/${points} ${currentLang === 'en' ? 'points' : 'نقطة'})</strong>
                        <div class="explanation">
                            ${currentLang === 'en' ? 'Matched concepts:' : 'المفاهيم المطابقة:'} 
                            ${matchedKeywords.join(', ')}<br>
                            ${answers[q].explanation[currentLang]}
                        </div>
                    `;
                } else if (percentage >= 50) {
                    feedback.className = 'feedback partial';
                    feedback.innerHTML = `
                        <span class="feedback-icon">⚠</span>
                        <strong>${currentLang === 'en' ? 'Good answer - some concepts missing' : 'إجابة جيدة - بعض المفاهيم مفقودة'} 
                        (${Math.round(score)}/${points} ${currentLang === 'en' ? 'points' : 'نقطة'})</strong>
                        <div class="explanation">
                            ${currentLang === 'en' ? 'Matched concepts:' : 'المفاهيم المطابقة:'} 
                            ${matchedKeywords.length > 0 ? matchedKeywords.join(', ') : currentLang === 'en' ? 'None' : 'لا يوجد'}<br>
                            ${answers[q].explanation[currentLang]}
                        </div>
                    `;
                } else {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = `
                        <span class="feedback-icon">✗</span>
                        <strong>${currentLang === 'en' ? 'Incomplete answer - many concepts missing' : 'إجابة غير مكتملة - العديد من المفاهيم مفقودة'} 
                        (${Math.round(score)}/${points} ${currentLang === 'en' ? 'points' : 'نقطة'})</strong>
                        <div class="explanation">
                            ${currentLang === 'en' ? 'Matched concepts:' : 'المفاهيم المطابقة:'} 
                            ${matchedKeywords.length > 0 ? matchedKeywords.join(', ') : currentLang === 'en' ? 'None' : 'لا يوجد'}<br>
                            ${answers[q].explanation[currentLang]}
                        </div>
                    `;
                }
                feedback.style.display = 'block';
            });

            // Display final score
            const percentage = ((totalScore / maxScore) * 100).toFixed(1);
            const scoreDisplay = document.getElementById('scoreDisplay');
            
            let grade = '';
            if (percentage >= 90) grade = 'A';
            else if (percentage >= 80) grade = 'B';
            else if (percentage >= 70) grade = 'C';
            else if (percentage >= 60) grade = 'D';
            else grade = 'F';

            scoreDisplay.innerHTML = `
                <div style="font-size: 24px; margin-bottom: 10px;">
                    ${currentLang === 'en' ? 'Final Score' : 'الدرجة النهائية'}: ${totalScore}/${maxScore}
                </div>
                <div style="font-size: 18px; opacity: 0.9;">
                    ${percentage}% - ${currentLang === 'en' ? 'Grade' : 'التقدير'}: ${grade}
                </div>
            `;
            scoreDisplay.style.display = 'block';

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Disable submit button
            document.getElementById('submitBtn').disabled = true;
        }

        // Prevent form submission on Enter key in inputs
        document.querySelectorAll('textarea').forEach(element => {
            element.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && e.ctrlKey) {
                    // Allow Ctrl+Enter for new line
                    return true;
                }
            });
        });
    </script>
</body>
</html>